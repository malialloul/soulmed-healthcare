{"version":3,"file":"appbase-js.umd.js","sources":["../node_modules/url-parser-lite/index.js","../src/utils/index.js","../src/core/index.js","../node_modules/querystring/decode.js","../node_modules/querystring/encode.js","../node_modules/querystring/index.js","../node_modules/cross-fetch/dist/browser-ponyfill.js","../src/core/request/fetch.js","../src/core/api/index.js","../src/core/api/get.js","../src/core/api/update.js","../src/core/api/delete.js","../src/core/api/bulk.js","../src/core/api/search.js","../src/core/api/msearch.js","../src/core/api/reactiveSearchApi.js","../src/core/api/reactiveSearchv3Api.js","../src/core/api/getMappings.js","../src/core/api/getSuggestionsv3Api.js","../src/index.js"],"sourcesContent":["function URL(url) {\n    var pattern = RegExp(\"^(([^:/?#]*)?://)?(((.*)?@)?([^/?#]*)?)([^?#]*)(\\\\?([^#]*))?(#(.*))?\");\n    var matches = url.match(pattern);\n\n    return {\n        protocol: matches[2],\n        auth: matches[5],\n        host: matches[6],\n        path: matches[7],\n        query: matches[9],\n        hash: matches[11]\n    };\n}\n\nmodule.exports = URL;\n","export function contains(string, substring) {\n  return string.indexOf(substring) !== -1;\n}\nexport function isAppbase(url) {\n  return contains(url, 'scalr.api.appbase.io');\n}\nexport function btoa(input = '') {\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  const str = input;\n  let output = '';\n\n  // eslint-disable-next-line\n  for (\n    let block = 0, charCode, i = 0, map = chars;\n    str.charAt(i | 0) || ((map = '='), i % 1); // eslint-disable-line no-bitwise\n    output += map.charAt(63 & (block >> (8 - (i % 1) * 8))) // eslint-disable-line no-bitwise\n  ) {\n    charCode = str.charCodeAt((i += 3 / 4));\n\n    if (charCode > 0xff) {\n      throw new Error(\n        '\"btoa\" failed: The string to be encoded contains characters outside of the Latin1 range.',\n      );\n    }\n\n    block = (block << 8) | charCode; // eslint-disable-line no-bitwise\n  }\n\n  return output;\n}\nexport function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0; // eslint-disable-line no-bitwise\n\n    const v = c === 'x' ? r : (r & 0x3) | 0x8; // eslint-disable-line no-bitwise\n    return v.toString(16);\n  });\n}\n\nexport function validateRSQuery(query) {\n  if (query && Object.prototype.toString.call(query) === '[object Array]') {\n    for (let i = 0; i < query.length; i += 1) {\n      const q = query[i];\n      if (q) {\n        if (!q.id) {\n          return new Error(\"'id' field must be present in query object\");\n        }\n      } else {\n        return new Error('query object can not have an empty value');\n      }\n    }\n    return true;\n  }\n  return new Error(\"invalid query value, 'query' value must be an array\");\n}\n\nexport function validate(object, fields) {\n  const invalid = [];\n  const emptyFor = {\n    object: null,\n    string: '',\n    number: 0,\n  };\n  const keys = Object.keys(fields);\n  keys.forEach((key) => {\n    const types = fields[key].split('|');\n    const matchedType = types.find(\n      type =>\n        // eslint-disable-next-line\n        typeof object[key] === type\n    );\n    if (!matchedType || object[key] === emptyFor[matchedType]) {\n      invalid.push(key);\n    }\n  });\n  let missing = '';\n  for (let i = 0; i < invalid.length; i += 1) {\n    missing += `${invalid[i]}, `;\n  }\n  if (invalid.length > 0) {\n    return new Error(`fields missing: ${missing}`);\n  }\n\n  return true;\n}\n\nexport function removeUndefined(value = {}) {\n  if (\n    value\n    || !(Object.keys(value).length === 0 && value.constructor === Object)\n  ) {\n    return JSON.parse(JSON.stringify(value));\n  }\n  return null;\n}\n\n/**\n * Send only when a connection is opened\n * @param {Object} socket\n * @param {Function} callback\n */\nexport function waitForSocketConnection(socket, callback) {\n  setTimeout(() => {\n    if (socket.readyState === 1) {\n      if (callback != null) {\n        callback();\n      }\n    } else {\n      waitForSocketConnection(socket, callback);\n    }\n  }, 5); // wait 5 ms for the connection...\n}\n\nexport function encodeHeaders(headers = {}, shouldEncode = true) {\n  // Encode headers\n  let encodedHeaders = {};\n  if (shouldEncode) {\n    Object.keys(headers).forEach((header) => {\n      encodedHeaders[header] = encodeURI(headers[header]);\n    });\n  } else {\n    encodedHeaders = headers;\n  }\n  return encodedHeaders;\n}\n\nexport function getTelemetryHeaders(enableTelemetry) {\n  const headers = {};\n  Object.assign(headers, {\n    'X-Search-Client': 'Appbase JS',\n  });\n  if (enableTelemetry === false) {\n    Object.assign(headers, {\n      'X-Enable-Telemetry': enableTelemetry,\n    });\n  }\n\n  return headers;\n}\n","import URL from 'url-parser-lite';\nimport { isAppbase } from '../utils/index';\n/**\n * Returns an instance of Appbase client\n * @param {Object} config To configure properties\n * @param {String} config.url\n * @param {String} config.app\n * @param {String} config.credentials\n * @param {String} config.username\n * @param {String} config.password\n * @param {Boolean} config.enableTelemetry\n * A callback function which will be invoked before a fetch request made\n */\nfunction AppBase(config) {\n  const {\n    auth = null,\n    host = '',\n    path = '',\n    protocol = '',\n  } = URL(config.url || '');\n  let url = host + path;\n\n  // Validate config and throw appropriate error\n  if (typeof url !== 'string' || url === '') {\n    throw new Error('URL not present in options.');\n  }\n  if (typeof config.app !== 'string' || config.app === '') {\n    throw new Error('App name is not present in options.');\n  }\n  if (typeof protocol !== 'string' || protocol === '') {\n    throw new Error(\n      'Protocol is not present in url. URL should be of the form https://appbase-demo-ansible-abxiydt-arc.searchbase.io',\n    );\n  }\n  // Parse url\n  if (url.slice(-1) === '/') {\n    url = url.slice(0, -1);\n  }\n  let credentials = auth || null;\n  /**\n   * Credentials can be provided as a part of the URL,\n   * as username, password args or as a credentials argument directly */\n  if (typeof config.credentials === 'string' && config.credentials !== '') {\n    // eslint-disable-next-line\n    credentials = config.credentials;\n  } else if (\n    typeof config.username === 'string'\n    && config.username !== ''\n    && typeof config.password === 'string'\n    && config.password !== ''\n  ) {\n    credentials = `${config.username}:${config.password}`;\n  }\n\n  if (isAppbase(url) && credentials === null) {\n    throw new Error(\n      'Authentication information is not present. Did you add credentials?',\n    );\n  }\n  this.url = url;\n  this.protocol = protocol;\n  this.app = config.app;\n  this.credentials = credentials;\n  if (typeof config.enableTelemetry === 'boolean') {\n    this.enableTelemetry = config.enableTelemetry;\n  }\n}\nexport default AppBase;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","var __root__ = (function (root) {\nfunction F() { this.fetch = false; }\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\n(function(self) {\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    };\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue+','+value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) { items.push(name); });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) { items.push(value); });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) { items.push([name, value]); });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=');\n        var name = split.shift().replace(/\\+/g, ' ');\n        var value = split.join('=').replace(/\\+/g, ' ');\n        form.append(decodeURIComponent(name), decodeURIComponent(value));\n      }\n    });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n      var xhr = new XMLHttpRequest();\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  };\n  self.fetch.polyfill = true;\n})(typeof self !== 'undefined' ? self : this);\n}).call(__root__, void(0));\nvar fetch = __root__.fetch;\nvar Response = fetch.Response = __root__.Response;\nvar Request = fetch.Request = __root__.Request;\nvar Headers = fetch.Headers = __root__.Headers;\nif (typeof module === 'object' && module.exports) {\nmodule.exports = fetch;\n// Needed for TypeScript consumers without esModuleInterop.\nmodule.exports.default = fetch;\n}\n","import querystring from 'querystring';\nimport fetch from 'cross-fetch';\nimport { btoa, removeUndefined } from '../../utils/index';\n\n/**\n * To perform fetch request\n * @param {Object} args\n * @param {String} args.method\n * @param {String} args.path\n * @param {Object} args.params\n * @param {Object} args.body\n * @param {Object} args.headers\n * @param {boolean} args.isSuggestionsAPI\n */\nfunction fetchRequest(args) {\n  return new Promise((resolve, reject) => {\n    const parsedArgs = removeUndefined(args);\n    try {\n      const {\n method, path, params, body, isRSAPI, isSuggestionsAPI,\n} = parsedArgs;\n      const app = isSuggestionsAPI ? '.suggestions' : this.app;\n      let bodyCopy = body;\n      const contentType = path.endsWith('msearch') || path.endsWith('bulk')\n          ? 'application/x-ndjson'\n          : 'application/json';\n      const headers = Object.assign(\n        {},\n        {\n          Accept: 'application/json',\n          'Content-Type': contentType,\n        },\n        args.headers,\n        this.headers,\n      );\n      const timestamp = Date.now();\n      if (this.credentials) {\n        headers.Authorization = `Basic ${btoa(this.credentials)}`;\n      }\n      const requestOptions = {\n        method,\n        headers,\n      };\n      if (Array.isArray(bodyCopy)) {\n        let arrayBody = '';\n        bodyCopy.forEach((item) => {\n          arrayBody += JSON.stringify(item);\n          arrayBody += '\\n';\n        });\n\n        bodyCopy = arrayBody;\n      } else {\n        bodyCopy = JSON.stringify(bodyCopy) || {};\n      }\n\n      if (Object.keys(bodyCopy).length !== 0) {\n        requestOptions.body = bodyCopy;\n      }\n\n      const handleTransformRequest = (res) => {\n        if (\n          this.transformRequest\n          && typeof this.transformRequest === 'function'\n        ) {\n          const tarnsformRequestPromise = this.transformRequest(res);\n          return tarnsformRequestPromise instanceof Promise\n            ? tarnsformRequestPromise\n            : Promise.resolve(tarnsformRequestPromise);\n        }\n        return Promise.resolve(res);\n      };\n\n      let responseHeaders = {};\n\n      let paramsString = '';\n      if (params) {\n        paramsString = `?${querystring.stringify(params)}`;\n      }\n      const finalURL = `${this.protocol}://${this.url}/${app}/${path}${paramsString}`;\n      return handleTransformRequest(\n        Object.assign(\n          {},\n          {\n            url: finalURL,\n          },\n          requestOptions,\n        ),\n      )\n        .then((ts) => {\n          const transformedRequest = Object.assign({}, ts);\n          const { url } = transformedRequest;\n          delete transformedRequest.url;\n          return fetch(url || finalURL, Object.assign({}, transformedRequest, {\n            // apply timestamp header for RS API\n            headers: isRSAPI\n              ? Object.assign({}, transformedRequest.headers, {\n                'x-timestamp': new Date().getTime(),\n              })\n              : transformedRequest.headers,\n          }))\n            .then((res) => {\n              if (res.status >= 500) {\n                return reject(res);\n              }\n              responseHeaders = res.headers;\n              return res\n                .json()\n                .then((data) => {\n                  if (res.status >= 400) {\n                    return reject(res);\n                  }\n                  if (data && data.error) {\n                    return reject(data);\n                  }\n                  // Handle error from RS API RESPONSE\n                  if (\n                    isRSAPI\n                    && data\n                    && Object.prototype.toString.call(data) === '[object Object]'\n                  ) {\n                    if (body && body.query && body.query instanceof Array) {\n                      let errorResponses = 0;\n                      const allResponses = body.query.filter(\n                        q => q.execute || q.execute === undefined,\n                      ).length;\n                      if (data) {\n                        Object.keys(data).forEach((key) => {\n                          if (\n                            data[key]\n                            && Object.prototype.hasOwnProperty.call(\n                              data[key],\n                              'error',\n                            )\n                          ) {\n                            errorResponses += 1;\n                          }\n                        });\n                      }\n                      // reject only when all responses has error\n                      if (\n                        errorResponses > 0\n                        && allResponses === errorResponses\n                      ) {\n                        return reject(data);\n                      }\n                    }\n                  }\n\n                  // Handle error from _msearch response\n                  if (data && data.responses instanceof Array) {\n                    const allResponses = data.responses.length;\n                    const errorResponses = data.responses.filter(entry => Object.prototype.hasOwnProperty.call(entry, 'error')).length;\n                    // reject only when all responses has error\n                    if (allResponses === errorResponses) {\n                      return reject(data);\n                    }\n                  }\n                  const response = Object.assign({}, data, {\n                    _timestamp: timestamp,\n                    _headers: responseHeaders,\n                  });\n                  return resolve(response);\n                })\n                .catch(e => reject(e));\n            })\n            .catch(e => reject(e));\n        })\n        .catch(err => reject(err));\n    } catch (e) {\n      return reject(e);\n    }\n  });\n}\nexport default fetchRequest;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Index Service\n * @param {Object} args\n * @param {String} args.type\n * @param {Object} args.body\n * @param {String} args.id\n */\nfunction indexApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    body: 'object',\n  });\n  if (valid !== true) {\n    throw valid;\n  }\n  const { type = '_doc', id, body } = parsedArgs;\n\n  delete parsedArgs.type;\n  delete parsedArgs.body;\n  delete parsedArgs.id;\n\n  let path;\n  if (id) {\n    path = type ? `${type}/${encodeURIComponent(id)}` : encodeURIComponent(id);\n  } else {\n    path = type;\n  }\n  return this.performFetchRequest({\n    method: 'POST',\n    path,\n    params: parsedArgs,\n    body,\n  });\n}\nexport default indexApi;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Get Service\n * @param {Object} args\n * @param {String} args.type\n * @param {String} args.id\n */\nfunction getApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    id: 'string|number',\n  });\n\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const { type = '_doc', id } = parsedArgs;\n\n  delete parsedArgs.type;\n  delete parsedArgs.id;\n\n  const path = `${type}/${encodeURIComponent(id)}`;\n\n  return this.performFetchRequest({\n    method: 'GET',\n    path,\n    params: parsedArgs,\n  });\n}\nexport default getApi;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Update Service\n * @param {Object} args\n * @param {String} args.type\n * @param {Object} args.body\n * @param {String} args.id\n */\nfunction updateApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    id: 'string|number',\n    body: 'object',\n  });\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const { type = '_doc', id, body } = parsedArgs;\n  delete parsedArgs.type;\n  delete parsedArgs.id;\n  delete parsedArgs.body;\n  const path = `${type}/${encodeURIComponent(id)}/_update`;\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path,\n    params: parsedArgs,\n    body,\n  });\n}\nexport default updateApi;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Delete Service\n * @param {Object} args\n * @param {String} args.type\n * @param {String} args.id\n */\nfunction deleteApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    id: 'string|number',\n  });\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const { type = '_doc', id } = parsedArgs;\n  delete parsedArgs.type;\n  delete parsedArgs.id;\n\n  const path = `${type}/${encodeURIComponent(id)}`;\n\n  return this.performFetchRequest({\n    method: 'DELETE',\n    path,\n    params: parsedArgs,\n  });\n}\nexport default deleteApi;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Bulk Service\n * @param {Object} args\n * @param {String} args.type\n * @param {Object} args.body\n */\nfunction bulkApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    body: 'object',\n  });\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const { type, body } = parsedArgs;\n\n  delete parsedArgs.type;\n  delete parsedArgs.body;\n\n  let path;\n  if (type) {\n    path = `${type}/_bulk`;\n  } else {\n    path = '_bulk';\n  }\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path,\n    params: parsedArgs,\n    body,\n  });\n}\nexport default bulkApi;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Search Service\n * @param {Object} args\n * @param {String} args.type\n * @param {Object} args.body\n */\nfunction searchApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    body: 'object',\n  });\n  if (valid !== true) {\n    throw valid;\n  }\n\n  let type;\n  if (Array.isArray(parsedArgs.type)) {\n    type = parsedArgs.type.join();\n  } else {\n    // eslint-disable-next-line\n    type = parsedArgs.type;\n  }\n\n  const { body } = parsedArgs;\n\n  delete parsedArgs.type;\n  delete parsedArgs.body;\n\n  let path;\n  if (type) {\n    path = `${type}/_search`;\n  } else {\n    path = '_search';\n  }\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path,\n    params: parsedArgs,\n    body,\n  });\n}\nexport default searchApi;\n","import { removeUndefined, validate } from '../../utils/index';\n\n/**\n * Msearch Service\n * @param {Object} args\n * @param {String} args.type\n * @param {Object} args.body\n */\nfunction msearchApi(args) {\n  const parsedArgs = removeUndefined(args);\n  // Validate arguments\n  const valid = validate(parsedArgs, {\n    body: 'object',\n  });\n  if (valid !== true) {\n    throw valid;\n  }\n\n  let type;\n  if (Array.isArray(parsedArgs.type)) {\n    type = parsedArgs.type.join();\n  } else {\n    ({ type } = parsedArgs);\n  }\n\n  const { body } = parsedArgs;\n\n  delete parsedArgs.type;\n  delete parsedArgs.body;\n\n  let path;\n  if (type) {\n    path = `${type}/_msearch`;\n  } else {\n    path = '_msearch';\n  }\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path,\n    params: parsedArgs,\n    body,\n  });\n}\nexport default msearchApi;\n","import { getTelemetryHeaders, removeUndefined, validateRSQuery } from '../../utils/index';\n\n/**\n * ReactiveSearch API Service for v3\n * @param {Array<Object>} query\n * @param {Object} settings\n * @param {boolean} settings.recordAnalytics\n * @param {boolean} settings.userId\n * @param {boolean} settings.enableQueryRules\n * @param {boolean} settings.customEvents\n */\nfunction reactiveSearchApi(query, settings) {\n  const parsedSettings = removeUndefined(settings);\n\n  // Validate query\n  const valid = validateRSQuery(query);\n\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const body = {\n    settings: parsedSettings,\n    query,\n  };\n\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path: '_reactivesearch',\n    body,\n    headers: getTelemetryHeaders(this.enableTelemetry),\n    isRSAPI: true,\n  });\n}\nexport default reactiveSearchApi;\n","import { getTelemetryHeaders, removeUndefined, validateRSQuery } from '../../utils/index';\n\n/**\n * ReactiveSearch API Service for v3\n * @param {Array<Object>} query\n * @param {Object} settings\n * @param {boolean} settings.recordAnalytics\n * @param {boolean} settings.userId\n * @param {boolean} settings.enableQueryRules\n * @param {boolean} settings.customEvents\n */\nfunction reactiveSearchv3Api(query, settings) {\n  const parsedSettings = removeUndefined(settings);\n\n  // Validate query\n  const valid = validateRSQuery(query);\n\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const body = {\n    settings: parsedSettings,\n    query,\n  };\n\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path: '_reactivesearch.v3',\n    body,\n    headers: getTelemetryHeaders(this.enableTelemetry),\n    isRSAPI: true,\n  });\n}\nexport default reactiveSearchv3Api;\n","/**\n * To get mappings\n */\nfunction getMappings() {\n  return this.performFetchRequest({\n    method: 'GET',\n    path: '_mapping',\n  });\n}\nexport default getMappings;\n","import {\n  getTelemetryHeaders,\n  removeUndefined,\n  validateRSQuery,\n} from '../../utils/index';\n\n/**\n * ReactiveSearch suggestions API for v3\n * @param {Array<Object>} query\n * @param {Object} settings\n * @param {boolean} settings.recordAnalytics\n * @param {boolean} settings.userId\n * @param {boolean} settings.enableQueryRules\n * @param {boolean} settings.customEvents\n */\nfunction getSuggestionsv3Api(query, settings) {\n  const parsedSettings = removeUndefined(settings);\n\n  // Validate query\n  const valid = validateRSQuery(query);\n\n  if (valid !== true) {\n    throw valid;\n  }\n\n  const body = {\n    settings: parsedSettings,\n    query,\n  };\n\n  return this.performFetchRequest({\n    method: 'POST',\n    path: '_reactivesearch.v3',\n    body,\n    headers: getTelemetryHeaders(this.enableTelemetry),\n    isRSAPI: true,\n    isSuggestionsAPI: true,\n  });\n}\n\nexport default getSuggestionsv3Api;\n","import AppBaseClient from './core/index';\nimport fetchRequest from './core/request/fetch';\nimport indexApi from './core/api/index';\nimport getApi from './core/api/get';\nimport updateApi from './core/api/update';\nimport deleteApi from './core/api/delete';\nimport bulkApi from './core/api/bulk';\nimport searchApi from './core/api/search';\nimport msearchApi from './core/api/msearch';\nimport reactiveSearchApi from './core/api/reactiveSearchApi';\nimport reactiveSearchv3Api from './core/api/reactiveSearchv3Api';\nimport getMappingsApi from './core/api/getMappings';\nimport { encodeHeaders } from './utils/index';\nimport getSuggestionsv3Api from './core/api/getSuggestionsv3Api';\n\nexport default function appbasejs(config) {\n  const client = new AppBaseClient(config);\n\n  AppBaseClient.prototype.performFetchRequest = fetchRequest;\n\n  AppBaseClient.prototype.index = indexApi;\n\n  AppBaseClient.prototype.get = getApi;\n\n  AppBaseClient.prototype.update = updateApi;\n\n  AppBaseClient.prototype.delete = deleteApi;\n\n  AppBaseClient.prototype.bulk = bulkApi;\n\n  AppBaseClient.prototype.search = searchApi;\n\n  AppBaseClient.prototype.msearch = msearchApi;\n\n  AppBaseClient.prototype.reactiveSearch = reactiveSearchApi;\n\n  AppBaseClient.prototype.reactiveSearchv3 = reactiveSearchv3Api;\n\n  AppBaseClient.prototype.getQuerySuggestions = getSuggestionsv3Api;\n\n  AppBaseClient.prototype.getMappings = getMappingsApi;\n\n  AppBaseClient.prototype.setHeaders = function setHeaders(\n    headers = {},\n    shouldEncode = false,\n  ) {\n    // Encode headers\n    if (shouldEncode) {\n      this.headers = encodeHeaders(headers);\n    } else {\n      this.headers = headers;\n    }\n  };\n\n  if (typeof window !== 'undefined') {\n    window.Appbase = client;\n  }\n  return client;\n}\n"],"names":["contains","string","substring","indexOf","isAppbase","url","btoa","input","chars","str","output","block","charCode","i","map","charAt","charCodeAt","Error","validateRSQuery","query","Object","prototype","toString","call","length","q","id","validate","object","fields","invalid","emptyFor","number","keys","forEach","key","types","split","matchedType","find","type","push","missing","removeUndefined","value","constructor","JSON","parse","stringify","encodeHeaders","headers","shouldEncode","encodedHeaders","header","encodeURI","getTelemetryHeaders","enableTelemetry","assign","AppBase","config","URL","auth","host","path","protocol","app","slice","credentials","username","password","require$$0","require$$1","this","fetchRequest","args","Promise","resolve","reject","parsedArgs","method","params","body","isRSAPI","isSuggestionsAPI","bodyCopy","contentType","endsWith","Accept","timestamp","Date","now","Authorization","requestOptions","Array","isArray","arrayBody","item","handleTransformRequest","res","transformRequest","tarnsformRequestPromise","responseHeaders","paramsString","querystring","finalURL","then","ts","transformedRequest","fetch","getTime","status","json","data","error","errorResponses","allResponses","filter","execute","undefined","hasOwnProperty","responses","entry","response","_timestamp","_headers","catch","e","err","indexApi","valid","encodeURIComponent","performFetchRequest","getApi","updateApi","deleteApi","bulkApi","searchApi","join","msearchApi","reactiveSearchApi","settings","parsedSettings","reactiveSearchv3Api","getMappings","getSuggestionsv3Api","appbasejs","client","AppBaseClient","index","get","update","delete","bulk","search","msearch","reactiveSearch","reactiveSearchv3","getQuerySuggestions","getMappingsApi","setHeaders","window","Appbase"],"mappings":"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"}