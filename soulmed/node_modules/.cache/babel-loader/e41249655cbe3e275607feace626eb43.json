{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _downshift = require('downshift');\n\nvar _downshift2 = _interopRequireDefault(_downshift);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _hotkeysJs = require('hotkeys-js');\n\nvar _hotkeysJs2 = _interopRequireDefault(_hotkeysJs);\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _causes = require('@appbaseio/reactivecore/lib/utils/causes');\n\nvar _causes2 = _interopRequireDefault(_causes);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Input = require('../../styles/Input');\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _SearchSvg = require('../shared/SearchSvg');\n\nvar _SearchSvg2 = _interopRequireDefault(_SearchSvg);\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _Container = require('../../styles/Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _CustomSvg = require('../shared/CustomSvg');\n\nvar _CustomSvg2 = _interopRequireDefault(_CustomSvg);\n\nvar _utils = require('../../utils');\n\nvar _SuggestionItem = require('./addons/SuggestionItem');\n\nvar _SuggestionItem2 = _interopRequireDefault(_SuggestionItem);\n\nvar _SuggestionWrapper = require('./addons/SuggestionWrapper');\n\nvar _SuggestionWrapper2 = _interopRequireDefault(_SuggestionWrapper);\n\nvar _Mic = require('./addons/Mic');\n\nvar _Mic2 = _interopRequireDefault(_Mic);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nvar _InputGroup = require('../../styles/InputGroup');\n\nvar _InputGroup2 = _interopRequireDefault(_InputGroup);\n\nvar _InputWrapper = require('../../styles/InputWrapper');\n\nvar _InputWrapper2 = _interopRequireDefault(_InputWrapper);\n\nvar _InputAddon = require('../../styles/InputAddon');\n\nvar _InputAddon2 = _interopRequireDefault(_InputAddon);\n\nvar _IconGroup = require('../../styles/IconGroup');\n\nvar _IconGroup2 = _interopRequireDefault(_IconGroup);\n\nvar _IconWrapper = require('../../styles/IconWrapper');\n\nvar _IconWrapper2 = _interopRequireDefault(_IconWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/** @jsx jsx */\n\n\nvar DataSearch = function (_Component) {\n  _inherits(DataSearch, _Component);\n\n  function DataSearch(props) {\n    _classCallCheck(this, DataSearch);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var currentValue = props.selectedValue || props.value || props.defaultValue || '';\n    _this.state = {\n      currentValue: currentValue,\n      suggestions: [],\n      isOpen: false\n    };\n    _this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n    /**\n     * To regulate the query execution based on the input handler,\n     * the component query will only get executed when it sets to `true`.\n     * */\n\n    _this.isPending = false;\n    _this.queryOptions = _this.getBasicQueryOptions(); // Set custom and default queries in store\n\n    (0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n    (0, _helper.updateDefaultQuery)(props.componentId, props, currentValue);\n\n    if (props.highlight) {\n      var queryOptions = DataSearch.highlightQuery(props) || {};\n\n      if (props.customHighlight && typeof props.customHighlight === 'function') {\n        props.setCustomHighlightOptions(props.componentId, props.customHighlight(props));\n      }\n\n      _this.queryOptions = _extends({}, queryOptions, _this.getBasicQueryOptions());\n      props.setQueryOptions(props.componentId, queryOptions);\n    } else {\n      props.setQueryOptions(props.componentId, _this.queryOptions);\n    }\n\n    var hasMounted = false;\n    var cause = null;\n\n    if (currentValue) {\n      if (props.onChange) {\n        props.onChange(currentValue, _this.triggerQuery);\n      }\n\n      _this.setValue(currentValue, true, props, cause, hasMounted);\n    }\n\n    return _this;\n  }\n\n  DataSearch.prototype.componentDidMount = function componentDidMount() {\n    // register hotkeys for listening to focusShortcuts' key presses\n    this.listenForFocusShortcuts();\n    var _props = this.props,\n        enableQuerySuggestions = _props.enableQuerySuggestions,\n        renderQuerySuggestions = _props.renderQuerySuggestions,\n        fetchPopularSuggestions = _props.fetchPopularSuggestions,\n        enableRecentSearches = _props.enableRecentSearches,\n        fetchRecentSearches = _props.fetchRecentSearches,\n        componentId = _props.componentId,\n        aggregationField = _props.aggregationField,\n        distinctField = _props.distinctField,\n        distinctFieldConfig = _props.distinctFieldConfig,\n        index = _props.index,\n        enableAppbase = _props.enableAppbase; // TODO: Remove in 4.0\n\n    if (enableQuerySuggestions !== undefined) {\n      console.warn('Warning(ReactiveSearch): The `enableQuerySuggestions` prop has been marked as deprecated, please use the `enablePopularSuggestions` prop instead.');\n    } // TODO: Remove in 4.0\n\n\n    if (renderQuerySuggestions !== undefined) {\n      console.warn('Warning(ReactiveSearch): The `renderQuerySuggestions` prop has been marked as deprecated, please use the `renderPopularSuggestions` prop instead.');\n    }\n\n    if (enableAppbase && aggregationField) {\n      console.warn('Warning(ReactiveSearch): The `aggregationField` prop has been marked as deprecated, please use the `distinctField` prop instead.');\n    }\n\n    if (!enableAppbase && (distinctField || distinctFieldConfig)) {\n      console.warn('Warning(ReactiveSearch): In order to use the `distinctField` and `distinctFieldConfig` props, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n    }\n\n    if (!enableAppbase && index) {\n      console.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n    }\n\n    fetchPopularSuggestions(componentId);\n\n    if (enableRecentSearches) {\n      fetchRecentSearches();\n    }\n  };\n\n  DataSearch.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['highlight', 'dataField', 'highlightField', 'aggregationField'], function () {\n      var queryOptions = DataSearch.highlightQuery(_this2.props) || {};\n\n      if (_this2.props.customHighlight && typeof _this2.props.customHighlight === 'function') {\n        _this2.props.setCustomHighlightOptions(_this2.props.componentId, _this2.props.customHighlight(_this2.props));\n      }\n\n      _this2.queryOptions = _extends({}, queryOptions, _this2.getBasicQueryOptions());\n\n      _this2.props.setQueryOptions(_this2.props.componentId, queryOptions);\n    }); // Treat defaultQuery and customQuery as reactive props\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n      this.updateDefaultQuery(this.state.currentValue, this.props);\n      this.updateQuery(this.state.currentValue, this.props);\n    }\n\n    if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n      this.updateQuery(this.state.currentValue, this.props);\n    }\n\n    if (Array.isArray(this.props.suggestions) && this.state.currentValue.trim().length) {\n      // shallow check allows us to set suggestions even if the next set\n      // of suggestions are same as the current one\n      if (this.props.suggestions !== prevProps.suggestions) {\n        if (this.props.onSuggestions) {\n          this.props.onSuggestions(this.props.suggestions);\n        } // eslint-disable-next-line\n\n\n        this.setState({\n          suggestions: this.onSuggestions(this.props.suggestions)\n        });\n      }\n    }\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, ['fieldWeights', 'fuzziness', 'queryFormat', 'dataField', 'nestedField', 'searchOperators'], function () {\n      _this2.updateQuery(_this2.state.currentValue, _this2.props);\n    });\n\n    if (this.props.value !== prevProps.value) {\n      this.setValue(this.props.value, true, this.props, undefined, undefined, false);\n    } else if ( // since, selectedValue will be updated when currentValue changes,\n    // we must only check for the changes introduced by\n    // clear action from SelectedFilters component in which case,\n    // the currentValue will never match the updated selectedValue\n    this.props.selectedValue !== prevProps.selectedValue && this.state.currentValue !== this.props.selectedValue) {\n      var _props2 = this.props,\n          value = _props2.value,\n          onChange = _props2.onChange;\n\n      if (!this.props.selectedValue && this.state.currentValue) {\n        // selected value is cleared, call onValueSelected\n        this.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n      }\n\n      if (value === undefined) {\n        this.setValue(this.props.selectedValue || '', true, this.props);\n      } else if (onChange) {\n        // value prop exists\n        onChange(this.props.selectedValue || '', this.triggerQuery);\n      } else {\n        // value prop exists and onChange is not defined:\n        // we need to put the current value back into the store\n        // if the clear action was triggered by interacting with\n        // selected-filters component\n        this.isPending = false;\n        this.setValue(this.state.currentValue, true, this.props);\n      }\n    }\n  };\n\n  DataSearch.prototype.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown);\n  }; // returns size and aggs property\n\n\n  DataSearch.prototype.shouldMicRender = function shouldMicRender(showVoiceSearch) {\n    // checks for SSR\n    if (typeof window === 'undefined') return false;\n    return showVoiceSearch && (window.webkitSpeechRecognition || window.SpeechRecognition);\n  };\n\n  DataSearch.prototype.render = function render() {\n    var _this3 = this;\n\n    var currentValue = this.state.currentValue;\n    var suggestionsList = this.parsedSuggestions;\n    var _props3 = this.props,\n        theme = _props3.theme,\n        themePreset = _props3.themePreset,\n        size = _props3.size,\n        recentSearchesIcon = _props3.recentSearchesIcon,\n        popularSearchesIcon = _props3.popularSearchesIcon;\n    var hasSuggestions = currentValue ? suggestionsList.length || this.topSuggestions.length : this.defaultSuggestions.length;\n    return (0, _core.jsx)(_Container2.default, {\n      style: this.props.style,\n      className: this.props.className\n    }, this.props.title && (0, _core.jsx)(_Title2.default, {\n      className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null\n    }, this.props.title), this.props.defaultSuggestions || this.props.autosuggest ? (0, _core.jsx)(_downshift2.default, _extends({\n      id: this.props.componentId + '-downshift',\n      onChange: this.onSuggestionSelected,\n      onStateChange: this.handleStateChange,\n      isOpen: this.state.isOpen,\n      itemToString: function itemToString(i) {\n        return i;\n      },\n      render: function render(_ref) {\n        var getRootProps = _ref.getRootProps,\n            getInputProps = _ref.getInputProps,\n            getItemProps = _ref.getItemProps,\n            isOpen = _ref.isOpen,\n            highlightedIndex = _ref.highlightedIndex,\n            setHighlightedIndex = _ref.setHighlightedIndex,\n            rest = _objectWithoutProperties(_ref, ['getRootProps', 'getInputProps', 'getItemProps', 'isOpen', 'highlightedIndex', 'setHighlightedIndex']);\n\n        var renderSuggestionsDropdown = function renderSuggestionsDropdown() {\n          return (0, _core.jsx)(_react2.default.Fragment, null, _this3.hasCustomRenderer && _this3.getComponent(_extends({\n            getInputProps: getInputProps,\n            getItemProps: getItemProps,\n            isOpen: isOpen,\n            highlightedIndex: highlightedIndex,\n            setHighlightedIndex: setHighlightedIndex\n          }, rest)), isOpen && _this3.renderLoader(), isOpen && _this3.renderError(), !_this3.hasCustomRenderer && isOpen && hasSuggestions ? (0, _core.jsx)('ul', {\n            css: (0, _Input.suggestions)(themePreset, theme),\n            className: (0, _helper.getClassName)(_this3.props.innerClass, 'list')\n          }, suggestionsList.slice(0, size).map(function (item, index) {\n            return (0, _core.jsx)('li', _extends({}, getItemProps({\n              item: item\n            }), {\n              key: index + 1 + '-' + item.value,\n              style: {\n                backgroundColor: _this3.getBackgroundColor(highlightedIndex, index)\n              }\n            }), (0, _core.jsx)(_SuggestionItem2.default, {\n              currentValue: currentValue,\n              suggestion: item\n            }));\n          }), _this3.defaultSuggestions.map(function (sugg, index) {\n            return (0, _core.jsx)('li', _extends({}, getItemProps({\n              item: sugg\n            }), {\n              key: suggestionsList.length + index + 1 + '-' + sugg.value,\n              style: {\n                backgroundColor: _this3.getBackgroundColor(highlightedIndex, suggestionsList.length + index),\n                justifyContent: 'flex-start'\n              }\n            }), (0, _core.jsx)('div', {\n              style: {\n                padding: '0 10px 0 0'\n              }\n            }, sugg.source && sugg.source._recent_search && (0, _core.jsx)(_CustomSvg2.default, {\n              iconId: sugg.label + '-icon',\n              className: (0, _helper.getClassName)(_this3.props.innerClass, 'recent-search-icon') || null,\n              icon: recentSearchesIcon,\n              type: 'recent-search-icon'\n            }), sugg.source && sugg.source._popular_suggestion && (0, _core.jsx)(_CustomSvg2.default, {\n              iconId: sugg.label + '-icon',\n              className: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n              icon: popularSearchesIcon,\n              type: 'popular-search-icon'\n            })), (0, _core.jsx)(_SuggestionItem2.default, {\n              currentValue: currentValue,\n              suggestion: sugg\n            }));\n          }), (0, _utils.hasPopularSuggestionsRenderer)(_this3.props) ? _this3.getComponent(_extends({\n            getInputProps: getInputProps,\n            getItemProps: getItemProps,\n            isOpen: isOpen,\n            highlightedIndex: highlightedIndex\n          }, rest), true) : _this3.topSuggestions.map(function (sugg, index) {\n            return (0, _core.jsx)('li', _extends({}, getItemProps({\n              item: sugg\n            }), {\n              key: suggestionsList.length + index + 1 + '-' + sugg.value,\n              style: {\n                backgroundColor: _this3.getBackgroundColor(highlightedIndex, suggestionsList.length + index),\n                justifyContent: 'flex-start'\n              }\n            }), (0, _core.jsx)('div', {\n              style: {\n                padding: '0 10px 0 0'\n              }\n            }, (0, _core.jsx)(_CustomSvg2.default, {\n              iconId: sugg.label + '-icon',\n              className: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n              icon: popularSearchesIcon,\n              type: 'popular-search-icon'\n            })), (0, _core.jsx)(_SuggestionItem2.default, {\n              currentValue: currentValue,\n              suggestion: sugg\n            }));\n          })) : _this3.renderNoSuggestion(suggestionsList));\n        };\n\n        return (0, _core.jsx)('div', getRootProps({\n          css: _Input.suggestionsContainer\n        }, {\n          suppressRefError: true\n        }), (0, _core.jsx)(_InputGroup2.default, null, _this3.renderInputAddonBefore(), (0, _core.jsx)(_InputWrapper2.default, null, (0, _core.jsx)(_Input2.default, _extends({\n          'aria-label': _this3.props.componentId,\n          id: _this3.props.componentId + '-input',\n          showIcon: _this3.props.showIcon,\n          showClear: _this3.props.showClear,\n          iconPosition: _this3.props.iconPosition,\n          ref: function ref(c) {\n            _this3._inputRef = c;\n          }\n        }, getInputProps({\n          className: (0, _helper.getClassName)(_this3.props.innerClass, 'input'),\n          placeholder: _this3.props.placeholder,\n          value: _this3.state.currentValue === null ? '' : _this3.state.currentValue,\n          onChange: _this3.onInputChange,\n          onBlur: _this3.withTriggerQuery(_this3.props.onBlur),\n          onFocus: _this3.handleFocus,\n          onClick: function onClick() {\n            // clear highlighted index\n            setHighlightedIndex(null);\n          },\n          onKeyPress: _this3.withTriggerQuery(_this3.props.onKeyPress),\n          onKeyDown: function onKeyDown(e) {\n            return _this3.handleKeyDown(e, highlightedIndex);\n          },\n          onKeyUp: _this3.withTriggerQuery(_this3.props.onKeyUp),\n          autoFocus: _this3.props.autoFocus\n        }), {\n          themePreset: themePreset,\n          type: _this3.props.type\n        })), _this3.renderIcons(), !_this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest))), _this3.renderInputAddonAfter()), _this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest)));\n      }\n    }, this.props.downShiftProps)) : (0, _core.jsx)('div', {\n      css: _Input.suggestionsContainer\n    }, (0, _core.jsx)(_InputGroup2.default, null, this.renderInputAddonBefore(), (0, _core.jsx)(_InputWrapper2.default, null, (0, _core.jsx)(_Input2.default, {\n      'aria-label': this.props.componentId,\n      className: (0, _helper.getClassName)(this.props.innerClass, 'input') || null,\n      placeholder: this.props.placeholder,\n      value: this.state.currentValue ? this.state.currentValue : '',\n      onChange: this.onInputChange,\n      onBlur: this.withTriggerQuery(this.props.onBlur),\n      onFocus: this.withTriggerQuery(this.props.onFocus),\n      onKeyPress: this.withTriggerQuery(this.props.onKeyPress),\n      onKeyDown: this.withTriggerQuery(this.props.onKeyDown),\n      onKeyUp: this.withTriggerQuery(this.props.onKeyUp),\n      autoFocus: this.props.autoFocus,\n      iconPosition: this.props.iconPosition,\n      showIcon: this.props.showIcon,\n      showClear: this.props.showClear,\n      themePreset: themePreset\n    }), this.renderIcons()), this.renderInputAddonAfter())));\n  };\n\n  _createClass(DataSearch, [{\n    key: 'stats',\n    get: function get() {\n      return (0, _helper.getResultStats)(this.props);\n    }\n  }, {\n    key: 'parsedSuggestions',\n    get: function get() {\n      var suggestionsList = [];\n      var currentValue = this.state.currentValue;\n      var defaultSuggestions = this.props.defaultSuggestions;\n\n      if (!currentValue && defaultSuggestions && defaultSuggestions.length) {\n        suggestionsList = defaultSuggestions;\n      } else if (currentValue) {\n        suggestionsList = this.state.suggestions;\n      }\n\n      return (0, _helper.withClickIds)(suggestionsList);\n    }\n  }, {\n    key: 'hasCustomRenderer',\n    get: function get() {\n      return (0, _utils.hasCustomRenderer)(this.props);\n    }\n  }, {\n    key: 'topSuggestions',\n    get: function get() {\n      var _props4 = this.props,\n          enableQuerySuggestions = _props4.enableQuerySuggestions,\n          enablePopularSuggestions = _props4.enablePopularSuggestions;\n      var currentValue = this.state.currentValue;\n\n      if (!currentValue) {\n        return [];\n      }\n\n      return enableQuerySuggestions || enablePopularSuggestions ? this.normalizedPopularSuggestions : [];\n    }\n  }, {\n    key: 'normalizedRecentSearches',\n    get: function get() {\n      var recentSearches = this.props.recentSearches;\n      return recentSearches || [];\n    }\n  }, {\n    key: 'normalizedPopularSuggestions',\n    get: function get() {\n      var _props5 = this.props,\n          popularSuggestions = _props5.popularSuggestions,\n          showDistinctSuggestions = _props5.showDistinctSuggestions,\n          defaultPopularSuggestions = _props5.defaultPopularSuggestions;\n      var currentValue = this.state.currentValue;\n      return (0, _helper.getTopSuggestions)( // use default popular suggestions if value is empty\n      currentValue ? popularSuggestions : defaultPopularSuggestions, currentValue, showDistinctSuggestions);\n    }\n  }, {\n    key: 'defaultSuggestions',\n    get: function get() {\n      var _props6 = this.props,\n          enableQuerySuggestions = _props6.enableQuerySuggestions,\n          enablePopularSuggestions = _props6.enablePopularSuggestions,\n          showDistinctSuggestions = _props6.showDistinctSuggestions,\n          defaultPopularSuggestions = _props6.defaultPopularSuggestions;\n      var isPopularSuggestionsEnabled = enableQuerySuggestions || enablePopularSuggestions;\n      var currentValue = this.state.currentValue;\n\n      if (currentValue) {\n        return [];\n      }\n\n      var customDefaultPopularSuggestions = defaultPopularSuggestions.map(function (suggestion) {\n        return _extends({}, suggestion, {\n          _popular_suggestion: true\n        });\n      });\n      var customNormalizedRecentSearches = this.normalizedRecentSearches.map(function (search) {\n        return _extends({}, search, {\n          _recent_search: true\n        });\n      });\n      var defaultSuggestions = isPopularSuggestionsEnabled ? [].concat(customNormalizedRecentSearches, customDefaultPopularSuggestions) : customNormalizedRecentSearches;\n      return (0, _helper.getTopSuggestions)( // use default popular suggestions if value is empty\n      defaultSuggestions, currentValue, showDistinctSuggestions);\n    }\n  }]);\n\n  return DataSearch;\n}(_react.Component);\n\nDataSearch.highlightQuery = function (props) {\n  if (props.customHighlight) {\n    return props.customHighlight(props);\n  }\n\n  if (!props.highlight) {\n    return null;\n  }\n\n  var fields = {};\n  var normalizedDataField = (0, _helper.normalizeDataField)(props.dataField).map(function (dataField) {\n    return dataField.field;\n  });\n  var highlightField = props.highlightField ? props.highlightField : normalizedDataField;\n\n  if (typeof highlightField === 'string') {\n    fields[highlightField] = {};\n  } else if (Array.isArray(highlightField)) {\n    highlightField.forEach(function (item) {\n      fields[item] = {};\n    });\n  }\n\n  return {\n    highlight: _extends({\n      pre_tags: ['<mark>'],\n      post_tags: ['</mark>'],\n      fields: fields\n    }, props.highlightField && {\n      require_field_match: false\n    })\n  };\n};\n\nDataSearch.defaultQuery = function (value, props) {\n  var finalQuery = null;\n\n  if (value) {\n    var fields = (0, _helper.normalizeDataField)(props.dataField, props.fieldWeights);\n\n    if (props.queryString) {\n      finalQuery = {\n        query_string: DataSearch.shouldQuery(value, fields, props)\n      };\n    } else if (props.searchOperators) {\n      finalQuery = {\n        simple_query_string: DataSearch.shouldQuery(value, fields, props)\n      };\n    } else {\n      finalQuery = {\n        bool: {\n          should: DataSearch.shouldQuery(value, fields, props),\n          minimum_should_match: '1'\n        }\n      };\n    }\n  }\n\n  if (value === '') {\n    finalQuery = null;\n  }\n\n  if (finalQuery && props.nestedField) {\n    finalQuery = {\n      nested: {\n        path: props.nestedField,\n        query: finalQuery\n      }\n    };\n  }\n\n  return finalQuery;\n};\n\nDataSearch.shouldQuery = function (value, dataFields, props) {\n  var finalQuery = [];\n  var phrasePrefixFields = [];\n  var fields = dataFields.map(function (dataField) {\n    var queryField = '' + dataField.field + (dataField.weight ? '^' + dataField.weight : '');\n\n    if (!(dataField.field.endsWith('.keyword') || dataField.field.endsWith('.autosuggest') || dataField.field.endsWith('.search'))) {\n      phrasePrefixFields.push(queryField);\n    }\n\n    return queryField;\n  });\n\n  if (props.searchOperators || props.queryString) {\n    return {\n      query: value,\n      fields: fields,\n      default_operator: props.queryFormat\n    };\n  }\n\n  if (props.queryFormat === 'and') {\n    finalQuery.push({\n      multi_match: {\n        query: value,\n        fields: fields,\n        type: 'cross_fields',\n        operator: 'and'\n      }\n    });\n    finalQuery.push({\n      multi_match: {\n        query: value,\n        fields: fields,\n        type: 'phrase',\n        operator: 'and'\n      }\n    });\n\n    if (phrasePrefixFields.length > 0) {\n      finalQuery.push({\n        multi_match: {\n          query: value,\n          fields: phrasePrefixFields,\n          type: 'phrase_prefix',\n          operator: 'and'\n        }\n      });\n    }\n\n    return finalQuery;\n  }\n\n  finalQuery.push({\n    multi_match: {\n      query: value,\n      fields: fields,\n      type: 'best_fields',\n      operator: 'or',\n      fuzziness: props.fuzziness ? props.fuzziness : 0\n    }\n  });\n  finalQuery.push({\n    multi_match: {\n      query: value,\n      fields: fields,\n      type: 'phrase',\n      operator: 'or'\n    }\n  });\n\n  if (phrasePrefixFields.length > 0) {\n    finalQuery.push({\n      multi_match: {\n        query: value,\n        fields: phrasePrefixFields,\n        type: 'phrase_prefix',\n        operator: 'or'\n      }\n    });\n  }\n\n  return finalQuery;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.getBasicQueryOptions = function () {\n    var aggregationField = _this4.props.aggregationField;\n    var currentValue = _this4.state.currentValue;\n    var queryOptions = (0, _helper.getQueryOptions)(_this4.props);\n\n    if (aggregationField) {\n      queryOptions.aggs = (0, _helper.getCompositeAggsQuery)({\n        value: currentValue,\n        props: _this4.props,\n        showTopHits: true\n      }).aggs;\n    }\n\n    return queryOptions;\n  };\n\n  this.onSuggestions = function (results) {\n    return (0, _helper.handleOnSuggestions)(results, _this4.state.currentValue, _this4.props);\n  };\n\n  this.setValue = function (value) {\n    var isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.props;\n    var cause = arguments[3];\n    var hasMounted = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var toggleIsOpen = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n\n    var performUpdate = function performUpdate() {\n      if (hasMounted) {\n        var _props7 = _this4.props,\n            enableRecentSearches = _props7.enableRecentSearches,\n            fetchRecentSearches = _props7.fetchRecentSearches; // Refresh recent searches when value becomes empty\n\n        if (!value && _this4.state.currentValue && enableRecentSearches) {\n          fetchRecentSearches();\n        }\n\n        _this4.setState({\n          currentValue: value\n        }, function () {\n          if (isDefaultValue) {\n            if (_this4.props.autosuggest) {\n              if (toggleIsOpen) {\n                _this4.setState({\n                  isOpen: false\n                });\n              }\n\n              _this4.updateDefaultQuery(value, props);\n            } // in case of strict selection only SUGGESTION_SELECT should be able\n            // to set the query otherwise the value should reset\n\n\n            if (props.strictSelection) {\n              if (cause === _causes2.default.SUGGESTION_SELECT || value === '') {\n                _this4.updateQuery(value, props);\n              } else {\n                _this4.setValue('', true);\n              }\n            } else {\n              _this4.updateQuery(value, props);\n            }\n          } else {\n            // debounce for handling text while typing\n            _this4.handleTextChange(value);\n          }\n\n          if (props.onValueChange) props.onValueChange(value);\n\n          var suggestionChangeHandler = function suggestionChangeHandler() {\n            // invoke on suggestions\n            if (_this4.props.onSuggestions) {\n              _this4.props.onSuggestions(_this4.props.suggestions);\n            }\n          }; // Set the already fetched suggestions if query is same as used last to fetch the hits\n\n\n          if (value === props.lastUsedQuery) {\n            _this4.setState({\n              suggestions: _this4.onSuggestions(_this4.props.suggestions)\n            }, suggestionChangeHandler);\n          } else if (!value) {\n            // reset suggestions\n            _this4.setState({\n              suggestions: []\n            }, suggestionChangeHandler);\n          }\n        });\n      } else {\n        if (_this4.props.autosuggest) {\n          _this4.updateDefaultQuery(value, props);\n        }\n\n        _this4.updateQuery(value, props);\n\n        if (props.onValueChange) props.onValueChange(value);\n      }\n    };\n\n    (0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n  };\n\n  this.handleTextChange = (0, _helper.debounce)(function (value) {\n    if (_this4.props.autosuggest) {\n      _this4.updateDefaultQuery(value, _this4.props);\n    } else {\n      _this4.updateQuery(value, _this4.props);\n    }\n  }, this.props.debounce);\n\n  this.updateDefaultQuery = function (value, props) {\n    var defaultQuery = props.defaultQuery;\n    var defaultQueryOptions = void 0;\n    var query = DataSearch.defaultQuery(value, props);\n\n    if (defaultQuery) {\n      var defaultQueryTobeSet = defaultQuery(value, props) || {};\n\n      if (defaultQueryTobeSet.query) {\n        query = defaultQueryTobeSet.query;\n      }\n\n      defaultQueryOptions = (0, _helper.getOptionsFromQuery)(defaultQueryTobeSet); // Update calculated default query in store\n\n      (0, _helper.updateDefaultQuery)(props.componentId, props, value);\n    }\n\n    props.setSuggestionsSearchValue(value);\n    props.setQueryOptions(_this4.internalComponent, _extends({}, _this4.queryOptions, defaultQueryOptions));\n    props.updateQuery({\n      componentId: _this4.internalComponent,\n      query: query,\n      value: value,\n      componentType: _constants.componentTypes.dataSearch\n    });\n  };\n\n  this.updateQuery = function (value, props) {\n    var customQuery = props.customQuery,\n        filterLabel = props.filterLabel,\n        showFilter = props.showFilter,\n        URLParams = props.URLParams;\n    var customQueryOptions = void 0;\n    var query = DataSearch.defaultQuery(value, props);\n\n    if (customQuery) {\n      var customQueryTobeSet = customQuery(value, props) || {};\n      var queryTobeSet = customQueryTobeSet.query;\n\n      if (queryTobeSet) {\n        query = queryTobeSet;\n      }\n\n      customQueryOptions = (0, _helper.getOptionsFromQuery)(customQueryTobeSet);\n      (0, _helper.updateCustomQuery)(props.componentId, props, value);\n    }\n\n    if (!_this4.isPending) {\n      // execute the query on an uncontrolled component\n      // query options should be applied to the source component,\n      // not on internal component, hence using `this.props.componentId` here\n      props.setQueryOptions(props.componentId, _extends({}, _this4.queryOptions, customQueryOptions));\n      props.updateQuery({\n        componentId: props.componentId,\n        query: query,\n        value: value,\n        label: filterLabel,\n        showFilter: showFilter,\n        URLParams: URLParams,\n        componentType: _constants.componentTypes.dataSearch\n      });\n    }\n  };\n\n  this.handleFocus = function (event) {\n    _this4.setState({\n      isOpen: true\n    });\n\n    if (_this4.props.onFocus) {\n      _this4.props.onFocus(event, _this4.triggerQuery);\n    }\n  };\n\n  this.clearValue = function () {\n    _this4.isPending = false;\n    var onChange = _this4.props.onChange;\n\n    _this4.setValue('', true);\n\n    if (onChange) {\n      onChange('', _this4.triggerQuery);\n    }\n\n    _this4.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n  };\n\n  this.handleKeyDown = function (event, highlightedIndex) {\n    var _props8 = _this4.props,\n        value = _props8.value,\n        onChange = _props8.onChange;\n\n    if (value !== undefined && onChange) {\n      _this4.isPending = true;\n    } // if a suggestion was selected, delegate the handling\n    // to suggestion handler\n\n\n    if (event.key === 'Enter' && highlightedIndex === null) {\n      _this4.setValue(event.target.value, true);\n\n      _this4.onValueSelected(event.target.value, _causes2.default.ENTER_PRESS);\n    }\n\n    if (_this4.props.onKeyDown) {\n      _this4.props.onKeyDown(event, _this4.triggerQuery);\n    }\n  };\n\n  this.onInputChange = function (e) {\n    var inputValue = e.target.value;\n\n    if (!_this4.state.isOpen) {\n      _this4.setState({\n        isOpen: true\n      });\n    }\n\n    var _props9 = _this4.props,\n        value = _props9.value,\n        onChange = _props9.onChange;\n\n    if (value === undefined) {\n      _this4.setValue(inputValue);\n    } else if (onChange) {\n      _this4.isPending = true; // handle caret position in controlled components\n\n      (0, _utils.handleCaretPosition)(e);\n      onChange(inputValue, _this4.triggerQuery, e);\n    }\n  };\n\n  this.triggerQuery = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$isOpen = _ref2.isOpen,\n        isOpen = _ref2$isOpen === undefined ? false : _ref2$isOpen;\n\n    _this4.isPending = false;\n\n    _this4.setValue(_this4.props.value, !isOpen, _this4.props);\n  };\n\n  this.onSuggestionSelected = function (suggestion) {\n    var _props10 = _this4.props,\n        value = _props10.value,\n        onChange = _props10.onChange;\n\n    _this4.setState({\n      isOpen: false\n    });\n\n    if (value === undefined) {\n      _this4.setValue(suggestion.value, true, _this4.props, _causes2.default.SUGGESTION_SELECT);\n    } else if (onChange) {\n      _this4.isPending = false;\n      onChange(suggestion.value, _this4.triggerQuery);\n    } // Record analytics for selected suggestions\n\n\n    _this4.triggerClickAnalytics(suggestion._click_id); // onValueSelected is user interaction driven:\n    // it should be triggered irrespective of controlled (or)\n    // uncontrolled component behavior\n\n\n    _this4.onValueSelected(suggestion.value, _causes2.default.SUGGESTION_SELECT, suggestion.source);\n  };\n\n  this.onValueSelected = function () {\n    for (var _len = arguments.length, cause = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      cause[_key - 1] = arguments[_key];\n    }\n\n    var currentValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this4.state.currentValue;\n    var onValueSelected = _this4.props.onValueSelected;\n\n    if (onValueSelected) {\n      onValueSelected.apply(undefined, [currentValue].concat(cause));\n    }\n  };\n\n  this.handleStateChange = function (changes) {\n    var isOpen = changes.isOpen,\n        type = changes.type;\n\n    if (type === _downshift2.default.stateChangeTypes.mouseUp && isOpen !== undefined) {\n      _this4.setState({\n        isOpen: isOpen\n      });\n    }\n  };\n\n  this.getBackgroundColor = function (highlightedIndex, index) {\n    var isDark = _this4.props.themePreset === 'dark';\n\n    if (isDark) {\n      return highlightedIndex === index ? '#555' : '#424242';\n    }\n\n    return highlightedIndex === index ? '#eee' : '#fff';\n  };\n\n  this.handleSearchIconClick = function () {\n    var currentValue = _this4.state.currentValue;\n\n    if (currentValue.trim()) {\n      _this4.isPending = false;\n\n      _this4.setValue(currentValue, true);\n\n      _this4.onValueSelected(currentValue, _causes2.default.SEARCH_ICON_CLICK);\n    }\n  };\n\n  this.handleVoiceResults = function (_ref3) {\n    var results = _ref3.results;\n\n    if (results && results[0] && results[0].isFinal && results[0][0] && results[0][0].transcript && results[0][0].transcript.trim()) {\n      _this4.isPending = false;\n\n      _this4.setValue(results[0][0].transcript.trim(), true);\n    }\n  };\n\n  this.renderInputAddonBefore = function () {\n    var addonBefore = _this4.props.addonBefore;\n\n    if (addonBefore) {\n      return (0, _core.jsx)(_InputAddon2.default, null, addonBefore);\n    }\n\n    return null;\n  };\n\n  this.renderInputAddonAfter = function () {\n    var addonAfter = _this4.props.addonAfter;\n\n    if (addonAfter) {\n      return (0, _core.jsx)(_InputAddon2.default, null, addonAfter);\n    }\n\n    return null;\n  };\n\n  this.renderIcon = function () {\n    if (_this4.props.showIcon) {\n      return _this4.props.icon || (0, _core.jsx)(_SearchSvg2.default, null);\n    }\n\n    return null;\n  };\n\n  this.renderCancelIcon = function () {\n    if (_this4.props.showClear) {\n      return _this4.props.clearIcon || (0, _core.jsx)(_CancelSvg2.default, null);\n    }\n\n    return null;\n  };\n\n  this.renderIcons = function () {\n    var _props11 = _this4.props,\n        showIcon = _props11.showIcon,\n        showClear = _props11.showClear,\n        renderMic = _props11.renderMic,\n        getMicInstance = _props11.getMicInstance,\n        showVoiceSearch = _props11.showVoiceSearch,\n        iconPosition = _props11.iconPosition,\n        innerClass = _props11.innerClass;\n    return (0, _core.jsx)('div', null, (0, _core.jsx)(_IconGroup2.default, {\n      groupPosition: 'right',\n      positionType: 'absolute'\n    }, _this4.state.currentValue && showClear && (0, _core.jsx)(_IconWrapper2.default, {\n      onClick: _this4.clearValue,\n      showIcon: showIcon,\n      isClearIcon: true\n    }, _this4.renderCancelIcon()), _this4.shouldMicRender(showVoiceSearch) && (0, _core.jsx)(_Mic2.default, {\n      getInstance: getMicInstance,\n      render: renderMic,\n      onResult: _this4.handleVoiceResults,\n      className: (0, _helper.getClassName)(innerClass, 'mic') || null\n    }), iconPosition === 'right' && (0, _core.jsx)(_IconWrapper2.default, {\n      onClick: _this4.handleSearchIconClick\n    }, _this4.renderIcon())), (0, _core.jsx)(_IconGroup2.default, {\n      groupPosition: 'left',\n      positionType: 'absolute'\n    }, iconPosition === 'left' && (0, _core.jsx)(_IconWrapper2.default, {\n      onClick: _this4.handleSearchIconClick\n    }, _this4.renderIcon())));\n  };\n\n  this.renderNoSuggestion = function () {\n    var finalSuggestionsList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var _props12 = _this4.props,\n        themePreset = _props12.themePreset,\n        theme = _props12.theme,\n        isLoading = _props12.isLoading,\n        renderNoSuggestion = _props12.renderNoSuggestion,\n        innerClass = _props12.innerClass,\n        error = _props12.error,\n        renderError = _props12.renderError;\n    var _state = _this4.state,\n        isOpen = _state.isOpen,\n        currentValue = _state.currentValue;\n\n    if (renderNoSuggestion && isOpen && !finalSuggestionsList.length && !isLoading && currentValue && !(renderError && error)) {\n      return (0, _core.jsx)(_SuggestionWrapper2.default, {\n        innerClass: innerClass,\n        themePreset: themePreset,\n        theme: theme,\n        innerClassName: 'noSuggestion'\n      }, typeof renderNoSuggestion === 'function' ? renderNoSuggestion(currentValue) : renderNoSuggestion);\n    }\n\n    return null;\n  };\n\n  this.renderLoader = function () {\n    var _props13 = _this4.props,\n        loader = _props13.loader,\n        isLoading = _props13.isLoading,\n        themePreset = _props13.themePreset,\n        theme = _props13.theme,\n        innerClass = _props13.innerClass;\n    var currentValue = _this4.state.currentValue;\n\n    if (isLoading && loader && currentValue) {\n      return (0, _core.jsx)(_SuggestionWrapper2.default, {\n        innerClass: innerClass,\n        innerClassName: 'loader',\n        theme: theme,\n        themePreset: themePreset\n      }, loader);\n    }\n\n    return null;\n  };\n\n  this.renderError = function () {\n    var _props14 = _this4.props,\n        error = _props14.error,\n        renderError = _props14.renderError,\n        themePreset = _props14.themePreset,\n        theme = _props14.theme,\n        isLoading = _props14.isLoading,\n        innerClass = _props14.innerClass;\n    var currentValue = _this4.state.currentValue;\n\n    if (error && renderError && currentValue && !isLoading) {\n      return (0, _core.jsx)(_SuggestionWrapper2.default, {\n        innerClass: innerClass,\n        innerClassName: 'error',\n        theme: theme,\n        themePreset: themePreset\n      }, (0, _utils.isFunction)(renderError) ? renderError(error) : renderError);\n    }\n\n    return null;\n  };\n\n  this.getComponent = function () {\n    var downshiftProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var isPopularSuggestionsRender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var _props15 = _this4.props,\n        error = _props15.error,\n        isLoading = _props15.isLoading,\n        aggregationData = _props15.aggregationData,\n        promotedResults = _props15.promotedResults,\n        customData = _props15.customData,\n        rawData = _props15.rawData;\n    var currentValue = _this4.state.currentValue;\n    var data = {\n      error: error,\n      loading: isLoading,\n      downshiftProps: downshiftProps,\n      data: _this4.parsedSuggestions,\n      promotedData: promotedResults || [],\n      customData: customData || {},\n      aggregationData: aggregationData || [],\n      rawData: rawData,\n      value: currentValue,\n      triggerClickAnalytics: _this4.triggerClickAnalytics,\n      resultStats: _this4.stats,\n      // TODO: Remove in v4\n      querySuggestions: _this4.normalizedPopularSuggestions,\n      popularSuggestions: _this4.normalizedPopularSuggestions,\n      recentSearches: _this4.normalizedRecentSearches\n    };\n\n    if (isPopularSuggestionsRender) {\n      return (0, _utils.getPopularSuggestionsComponent)({\n        downshiftProps: downshiftProps,\n        data: _this4.normalizedPopularSuggestions,\n        value: currentValue,\n        loading: isLoading,\n        error: error\n      }, _this4.props);\n    }\n\n    return (0, _utils.getComponent)(data, _this4.props);\n  };\n\n  this.triggerClickAnalytics = function (searchPosition, documentId) {\n    var docId = documentId;\n\n    if (!docId) {\n      var hitData = _this4.parsedSuggestions.find(function (hit) {\n        return hit._click_id === searchPosition;\n      });\n\n      if (hitData && hitData.source && hitData.source._id) {\n        docId = hitData.source._id;\n      }\n    }\n\n    _this4.props.triggerAnalytics(searchPosition, docId);\n  };\n\n  this.withTriggerQuery = function (func) {\n    if (func) {\n      return function (e) {\n        return func(e, _this4.triggerQuery);\n      };\n    }\n\n    return undefined;\n  };\n\n  this.focusSearchBox = function (event) {\n    var elt = event.target || event.srcElement;\n    var tagName = elt.tagName;\n\n    if (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n      // already in an input\n      return;\n    }\n\n    if (_this4._inputRef) {\n      _this4._inputRef.focus();\n    }\n  };\n\n  this.listenForFocusShortcuts = function () {\n    var focusShortcuts = _this4.props.focusShortcuts;\n\n    if ((0, _utils.isEmpty)(focusShortcuts)) {\n      return;\n    } // for single press keys (a-z, A-Z) &, hotkeys' combinations such as 'cmd+k', 'ctrl+shft+a', etc\n\n\n    (0, _hotkeysJs2.default)((0, _utils.parseFocusShortcuts)(focusShortcuts).join(','),\n    /* eslint-disable no-shadow */\n    // eslint-disable-next-line no-unused-vars\n    function (event, handler) {\n      // Prevent the default refresh event under WINDOWS system\n      event.preventDefault();\n\n      _this4.focusSearchBox(event);\n    }); // if one of modifier keys are used, they are handled below\n\n    (0, _hotkeysJs2.default)('*', function (event) {\n      var modifierKeys = (0, _utils.extractModifierKeysFromFocusShortcuts)(focusShortcuts);\n      if (modifierKeys.length === 0) return;\n\n      for (var index = 0; index < modifierKeys.length; index += 1) {\n        var element = modifierKeys[index];\n\n        if (_hotkeysJs2.default[element]) {\n          _this4.focusSearchBox(event);\n\n          break;\n        }\n      }\n    });\n  };\n};\n\nDataSearch.propTypes = {\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  fetchPopularSuggestions: _types2.default.funcRequired,\n  fetchRecentSearches: _types2.default.funcRequired,\n  recentSearches: _types2.default.suggestions,\n  options: _types2.default.options,\n  selectedValue: _types2.default.selectedValue,\n  suggestions: _types2.default.suggestions,\n  defaultPopularSuggestions: _types2.default.suggestions,\n  rawData: _types2.default.rawData,\n  aggregationData: _types2.default.aggregationData,\n  setCustomQuery: _types2.default.funcRequired,\n  setDefaultQuery: _types2.default.funcRequired,\n  setCustomHighlightOptions: _types2.default.funcRequired,\n  setSuggestionsSearchValue: _types2.default.funcRequired,\n  triggerAnalytics: _types2.default.funcRequired,\n  error: _types2.default.title,\n  isLoading: _types2.default.bool,\n  lastUsedQuery: _types2.default.string,\n  time: _types2.default.number,\n  enableAppbase: _types2.default.bool,\n  // component props\n  autoFocus: _types2.default.bool,\n  autosuggest: _types2.default.bool,\n  enableSynonyms: _types2.default.bool,\n  distinctField: _types2.default.string,\n  distinctFieldConfig: _types2.default.componentObject,\n  index: _types2.default.string,\n  // TODO: Remove in v4\n  enableQuerySuggestions: _types2.default.bool,\n  enablePopularSuggestions: _types2.default.bool,\n  enableRecentSearches: _types2.default.bool,\n  queryString: _types2.default.bool,\n  beforeValueChange: _types2.default.func,\n  className: _types2.default.string,\n  clearIcon: _types2.default.children,\n  componentId: _types2.default.stringRequired,\n  customHighlight: _types2.default.func,\n  customQuery: _types2.default.func,\n  defaultQuery: _types2.default.func,\n  dataField: _types2.default.dataFieldValidator,\n  aggregationField: _types2.default.string,\n  aggregationSize: _types2.default.number,\n  size: _types2.default.number,\n  debounce: _types2.default.number,\n  defaultValue: _types2.default.string,\n  value: _types2.default.string,\n  defaultSuggestions: _types2.default.suggestions,\n  promotedResults: _types2.default.hits,\n  customData: _types2.default.title,\n  downShiftProps: _types2.default.props,\n  children: _types2.default.func,\n  excludeFields: _types2.default.excludeFields,\n  fieldWeights: _types2.default.fieldWeights,\n  filterLabel: _types2.default.string,\n  fuzziness: _types2.default.fuzziness,\n  highlight: _types2.default.bool,\n  highlightField: _types2.default.stringOrArray,\n  icon: _types2.default.children,\n  iconPosition: _types2.default.iconPosition,\n  innerClass: _types2.default.style,\n  includeFields: _types2.default.includeFields,\n  loader: _types2.default.title,\n  nestedField: _types2.default.string,\n  onError: _types2.default.func,\n  onBlur: _types2.default.func,\n  onFocus: _types2.default.func,\n  onKeyDown: _types2.default.func,\n  onKeyPress: _types2.default.func,\n  onKeyUp: _types2.default.func,\n  onQueryChange: _types2.default.func,\n  onSuggestions: _types2.default.func,\n  onValueChange: _types2.default.func,\n  onChange: _types2.default.func,\n  onValueSelected: _types2.default.func,\n  placeholder: _types2.default.string,\n  queryFormat: _types2.default.queryFormatSearch,\n  popularSuggestions: _types2.default.hits,\n  react: _types2.default.react,\n  render: _types2.default.func,\n  // TODO: Remove in v4\n  renderQuerySuggestions: _types2.default.func,\n  renderPopularSuggestions: _types2.default.func,\n  renderError: _types2.default.title,\n  parseSuggestion: _types2.default.func,\n  renderNoSuggestion: _types2.default.title,\n  showClear: _types2.default.bool,\n  showDistinctSuggestions: _types2.default.bool,\n  showFilter: _types2.default.bool,\n  showIcon: _types2.default.bool,\n  showVoiceSearch: _types2.default.bool,\n  style: _types2.default.style,\n  title: _types2.default.title,\n  theme: _types2.default.style,\n  themePreset: _types2.default.themePreset,\n  type: _types2.default.string,\n  URLParams: _types2.default.bool,\n  strictSelection: _types2.default.bool,\n  searchOperators: _types2.default.bool,\n  enablePredictiveSuggestions: _types2.default.bool,\n  recentSearchesIcon: _types2.default.componentObject,\n  popularSearchesIcon: _types2.default.componentObject,\n  // Mic props\n  getMicInstance: _types2.default.func,\n  renderMic: _types2.default.func,\n  //\n  focusShortcuts: _types2.default.focusShortcuts,\n  addonBefore: _types2.default.children,\n  addonAfter: _types2.default.children,\n  expandSuggestionsContainer: _types2.default.bool\n};\nDataSearch.defaultProps = {\n  autosuggest: true,\n  className: null,\n  debounce: 0,\n  downShiftProps: {},\n  enableSynonyms: true,\n  enablePopularSuggestions: false,\n  excludeFields: [],\n  iconPosition: 'left',\n  includeFields: ['*'],\n  placeholder: 'Search',\n  queryFormat: 'or',\n  showFilter: true,\n  showIcon: true,\n  showVoiceSearch: false,\n  style: {},\n  URLParams: false,\n  showClear: false,\n  showDistinctSuggestions: true,\n  strictSelection: false,\n  searchOperators: false,\n  size: 10,\n  enablePredictiveSuggestions: false,\n  recentSearches: [],\n  defaultPopularSuggestions: [],\n  time: 0,\n  focusShortcuts: ['/'],\n  addonBefore: undefined,\n  addonAfter: undefined,\n  expandSuggestionsContainer: true\n}; // Add componentType for SSR\n\nDataSearch.componentType = _constants.componentTypes.dataSearch;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n    suggestions: state.hits[props.componentId] && state.hits[props.componentId].hits,\n    rawData: state.rawData[props.componentId],\n    aggregationData: state.compositeAggregations[props.componentId],\n    themePreset: state.config.themePreset,\n    isLoading: !!state.isLoading[props.componentId + '_active'],\n    error: state.error[props.componentId],\n    enableAppbase: state.config.enableAppbase,\n    promotedResults: state.promotedResults[props.componentId],\n    customData: state.customData[props.componentId],\n    time: state.hits[props.componentId] && state.hits[props.componentId].time,\n    total: state.hits[props.componentId] && state.hits[props.componentId].total,\n    hidden: state.hits[props.componentId] && state.hits[props.componentId].hidden,\n    popularSuggestions: state.querySuggestions[props.componentId],\n    defaultPopularSuggestions: state.defaultPopularSuggestions[props.componentId],\n    recentSearches: state.recentSearches.data,\n    lastUsedQuery: state.queryToHits[props.componentId]\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setCustomHighlightOptions: function setCustomHighlightOptions(component, options) {\n      return dispatch((0, _actions.setCustomHighlightOptions)(component, options));\n    },\n    setCustomQuery: function setCustomQuery(component, query) {\n      return dispatch((0, _actions.setCustomQuery)(component, query));\n    },\n    setDefaultQuery: function setDefaultQuery(component, query) {\n      return dispatch((0, _actions.setDefaultQuery)(component, query));\n    },\n    setSuggestionsSearchValue: function setSuggestionsSearchValue(value) {\n      return dispatch((0, _actions.setSuggestionsSearchValue)(value));\n    },\n    setQueryOptions: function setQueryOptions(component, props) {\n      return dispatch((0, _actions.setQueryOptions)(component, props));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    },\n    triggerAnalytics: function triggerAnalytics(searchPosition, documentId) {\n      return dispatch((0, _actions.recordSuggestionClick)(searchPosition, documentId));\n    },\n    fetchRecentSearches: function fetchRecentSearches(queryOptions) {\n      return dispatch((0, _actions.getRecentSearches)(queryOptions));\n    },\n    fetchPopularSuggestions: function fetchPopularSuggestions(component) {\n      return dispatch((0, _actions.loadPopularSuggestions)(component));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n  return (0, _core.jsx)(_ComponentWrapper2.default, _extends({}, props, {\n    internalComponent: true,\n    componentType: _constants.componentTypes.dataSearch\n  }), function () {\n    return (0, _core.jsx)(DataSearch, _extends({\n      ref: props.myForwardedRef\n    }, props));\n  });\n})); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return (0, _core.jsx)(ConnectedComponent, _extends({}, props, {\n    myForwardedRef: ref\n  }));\n});\n\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DataSearch);\nForwardRefComponent.displayName = 'DataSearch';\nexports.default = ForwardRefComponent;","map":{"version":3,"sources":["/home/ma/soulmed-healthcare/node_modules/@appbaseio/reactivesearch/lib/components/search/DataSearch.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_core","require","_react","_react2","_interopRequireDefault","_downshift","_downshift2","_emotionTheming","_actions","_hoistNonReactStatics","_hoistNonReactStatics2","_helper","_transform","_constants","_hotkeysJs","_hotkeysJs2","_types","_types2","_causes","_causes2","_Title","_Title2","_Input","_Input2","_SearchSvg","_SearchSvg2","_CancelSvg","_CancelSvg2","_Container","_Container2","_CustomSvg","_CustomSvg2","_utils","_SuggestionItem","_SuggestionItem2","_SuggestionWrapper","_SuggestionWrapper2","_Mic","_Mic2","_ComponentWrapper","_ComponentWrapper2","_InputGroup","_InputGroup2","_InputWrapper","_InputWrapper2","_InputAddon","_InputAddon2","_IconGroup","_IconGroup2","_IconWrapper","_IconWrapper2","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","DataSearch","_Component","_this","_initialiseProps","currentValue","selectedValue","defaultValue","state","suggestions","isOpen","internalComponent","getInternalComponentID","componentId","isPending","queryOptions","getBasicQueryOptions","updateCustomQuery","updateDefaultQuery","highlight","highlightQuery","customHighlight","setCustomHighlightOptions","setQueryOptions","hasMounted","cause","onChange","triggerQuery","setValue","componentDidMount","listenForFocusShortcuts","_props","enableQuerySuggestions","renderQuerySuggestions","fetchPopularSuggestions","enableRecentSearches","fetchRecentSearches","aggregationField","distinctField","distinctFieldConfig","index","enableAppbase","undefined","console","warn","componentDidUpdate","prevProps","_this2","checkSomePropChange","isQueryIdentical","updateQuery","Array","isArray","trim","onSuggestions","setState","_props2","onValueSelected","CLEAR_VALUE","componentWillUnmount","document","removeEventListener","onKeyDown","shouldMicRender","showVoiceSearch","window","webkitSpeechRecognition","SpeechRecognition","render","_this3","suggestionsList","parsedSuggestions","_props3","theme","themePreset","size","recentSearchesIcon","popularSearchesIcon","hasSuggestions","topSuggestions","defaultSuggestions","jsx","style","className","title","getClassName","innerClass","autosuggest","id","onSuggestionSelected","onStateChange","handleStateChange","itemToString","_ref","getRootProps","getInputProps","getItemProps","highlightedIndex","setHighlightedIndex","rest","renderSuggestionsDropdown","Fragment","hasCustomRenderer","getComponent","renderLoader","renderError","css","slice","map","item","backgroundColor","getBackgroundColor","suggestion","sugg","justifyContent","padding","_recent_search","iconId","label","icon","type","_popular_suggestion","hasPopularSuggestionsRenderer","renderNoSuggestion","suggestionsContainer","suppressRefError","renderInputAddonBefore","showIcon","showClear","iconPosition","ref","c","_inputRef","placeholder","onInputChange","onBlur","withTriggerQuery","onFocus","handleFocus","onClick","onKeyPress","e","handleKeyDown","onKeyUp","autoFocus","renderIcons","expandSuggestionsContainer","apply","concat","renderInputAddonAfter","downShiftProps","get","getResultStats","withClickIds","_props4","enablePopularSuggestions","normalizedPopularSuggestions","recentSearches","_props5","popularSuggestions","showDistinctSuggestions","defaultPopularSuggestions","getTopSuggestions","_props6","isPopularSuggestionsEnabled","customDefaultPopularSuggestions","customNormalizedRecentSearches","normalizedRecentSearches","search","Component","fields","normalizedDataField","normalizeDataField","dataField","field","highlightField","forEach","pre_tags","post_tags","require_field_match","defaultQuery","finalQuery","fieldWeights","queryString","query_string","shouldQuery","searchOperators","simple_query_string","bool","should","minimum_should_match","nestedField","nested","path","query","dataFields","phrasePrefixFields","queryField","weight","endsWith","push","default_operator","queryFormat","multi_match","operator","fuzziness","_this4","getQueryOptions","aggs","getCompositeAggsQuery","showTopHits","results","handleOnSuggestions","isDefaultValue","toggleIsOpen","performUpdate","_props7","strictSelection","SUGGESTION_SELECT","handleTextChange","onValueChange","suggestionChangeHandler","lastUsedQuery","checkValueChange","beforeValueChange","debounce","defaultQueryOptions","defaultQueryTobeSet","getOptionsFromQuery","setSuggestionsSearchValue","componentType","componentTypes","dataSearch","customQuery","filterLabel","showFilter","URLParams","customQueryOptions","customQueryTobeSet","queryTobeSet","event","clearValue","_props8","ENTER_PRESS","inputValue","_props9","handleCaretPosition","_ref2","_ref2$isOpen","_props10","triggerClickAnalytics","_click_id","_len","_key","changes","stateChangeTypes","mouseUp","isDark","handleSearchIconClick","SEARCH_ICON_CLICK","handleVoiceResults","_ref3","isFinal","transcript","addonBefore","addonAfter","renderIcon","renderCancelIcon","clearIcon","_props11","renderMic","getMicInstance","groupPosition","positionType","isClearIcon","getInstance","onResult","finalSuggestionsList","_props12","isLoading","error","_state","innerClassName","_props13","loader","_props14","isFunction","downshiftProps","isPopularSuggestionsRender","_props15","aggregationData","promotedResults","customData","rawData","data","loading","promotedData","resultStats","stats","querySuggestions","getPopularSuggestionsComponent","searchPosition","documentId","docId","hitData","find","hit","_id","triggerAnalytics","func","focusSearchBox","elt","srcElement","tagName","isContentEditable","focus","focusShortcuts","isEmpty","parseFocusShortcuts","join","handler","preventDefault","modifierKeys","extractModifierKeysFromFocusShortcuts","element","propTypes","funcRequired","options","setCustomQuery","setDefaultQuery","string","time","number","enableSynonyms","componentObject","children","stringRequired","dataFieldValidator","aggregationSize","hits","excludeFields","stringOrArray","includeFields","onError","onQueryChange","queryFormatSearch","react","renderPopularSuggestions","parseSuggestion","enablePredictiveSuggestions","defaultProps","mapStateToProps","selectedValues","compositeAggregations","config","total","hidden","queryToHits","mapDispatchtoProps","dispatch","component","updateQueryObject","recordSuggestionClick","getRecentSearches","loadPopularSuggestions","ConnectedComponent","connect","withTheme","myForwardedRef","ForwardRefComponent","forwardRef","displayName"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _downshift = require('downshift');\n\nvar _downshift2 = _interopRequireDefault(_downshift);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _transform = require('@appbaseio/reactivecore/lib/utils/transform');\n\nvar _constants = require('@appbaseio/reactivecore/lib/utils/constants');\n\nvar _hotkeysJs = require('hotkeys-js');\n\nvar _hotkeysJs2 = _interopRequireDefault(_hotkeysJs);\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _causes = require('@appbaseio/reactivecore/lib/utils/causes');\n\nvar _causes2 = _interopRequireDefault(_causes);\n\nvar _Title = require('../../styles/Title');\n\nvar _Title2 = _interopRequireDefault(_Title);\n\nvar _Input = require('../../styles/Input');\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _SearchSvg = require('../shared/SearchSvg');\n\nvar _SearchSvg2 = _interopRequireDefault(_SearchSvg);\n\nvar _CancelSvg = require('../shared/CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nvar _Container = require('../../styles/Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _CustomSvg = require('../shared/CustomSvg');\n\nvar _CustomSvg2 = _interopRequireDefault(_CustomSvg);\n\nvar _utils = require('../../utils');\n\nvar _SuggestionItem = require('./addons/SuggestionItem');\n\nvar _SuggestionItem2 = _interopRequireDefault(_SuggestionItem);\n\nvar _SuggestionWrapper = require('./addons/SuggestionWrapper');\n\nvar _SuggestionWrapper2 = _interopRequireDefault(_SuggestionWrapper);\n\nvar _Mic = require('./addons/Mic');\n\nvar _Mic2 = _interopRequireDefault(_Mic);\n\nvar _ComponentWrapper = require('../basic/ComponentWrapper');\n\nvar _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);\n\nvar _InputGroup = require('../../styles/InputGroup');\n\nvar _InputGroup2 = _interopRequireDefault(_InputGroup);\n\nvar _InputWrapper = require('../../styles/InputWrapper');\n\nvar _InputWrapper2 = _interopRequireDefault(_InputWrapper);\n\nvar _InputAddon = require('../../styles/InputAddon');\n\nvar _InputAddon2 = _interopRequireDefault(_InputAddon);\n\nvar _IconGroup = require('../../styles/IconGroup');\n\nvar _IconGroup2 = _interopRequireDefault(_IconGroup);\n\nvar _IconWrapper = require('../../styles/IconWrapper');\n\nvar _IconWrapper2 = _interopRequireDefault(_IconWrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /** @jsx jsx */\n\n\nvar DataSearch = function (_Component) {\n\t_inherits(DataSearch, _Component);\n\n\tfunction DataSearch(props) {\n\t\t_classCallCheck(this, DataSearch);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\tvar currentValue = props.selectedValue || props.value || props.defaultValue || '';\n\n\t\t_this.state = {\n\t\t\tcurrentValue: currentValue,\n\t\t\tsuggestions: [],\n\t\t\tisOpen: false\n\t\t};\n\t\t_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);\n\t\t/**\n   * To regulate the query execution based on the input handler,\n   * the component query will only get executed when it sets to `true`.\n   * */\n\t\t_this.isPending = false;\n\t\t_this.queryOptions = _this.getBasicQueryOptions();\n\t\t// Set custom and default queries in store\n\t\t(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);\n\t\t(0, _helper.updateDefaultQuery)(props.componentId, props, currentValue);\n\t\tif (props.highlight) {\n\t\t\tvar queryOptions = DataSearch.highlightQuery(props) || {};\n\t\t\tif (props.customHighlight && typeof props.customHighlight === 'function') {\n\t\t\t\tprops.setCustomHighlightOptions(props.componentId, props.customHighlight(props));\n\t\t\t}\n\t\t\t_this.queryOptions = _extends({}, queryOptions, _this.getBasicQueryOptions());\n\t\t\tprops.setQueryOptions(props.componentId, queryOptions);\n\t\t} else {\n\t\t\tprops.setQueryOptions(props.componentId, _this.queryOptions);\n\t\t}\n\n\t\tvar hasMounted = false;\n\t\tvar cause = null;\n\n\t\tif (currentValue) {\n\t\t\tif (props.onChange) {\n\t\t\t\tprops.onChange(currentValue, _this.triggerQuery);\n\t\t\t}\n\t\t\t_this.setValue(currentValue, true, props, cause, hasMounted);\n\t\t}\n\t\treturn _this;\n\t}\n\n\tDataSearch.prototype.componentDidMount = function componentDidMount() {\n\t\t// register hotkeys for listening to focusShortcuts' key presses\n\t\tthis.listenForFocusShortcuts();\n\t\tvar _props = this.props,\n\t\t    enableQuerySuggestions = _props.enableQuerySuggestions,\n\t\t    renderQuerySuggestions = _props.renderQuerySuggestions,\n\t\t    fetchPopularSuggestions = _props.fetchPopularSuggestions,\n\t\t    enableRecentSearches = _props.enableRecentSearches,\n\t\t    fetchRecentSearches = _props.fetchRecentSearches,\n\t\t    componentId = _props.componentId,\n\t\t    aggregationField = _props.aggregationField,\n\t\t    distinctField = _props.distinctField,\n\t\t    distinctFieldConfig = _props.distinctFieldConfig,\n\t\t    index = _props.index,\n\t\t    enableAppbase = _props.enableAppbase;\n\n\t\t// TODO: Remove in 4.0\n\n\t\tif (enableQuerySuggestions !== undefined) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): The `enableQuerySuggestions` prop has been marked as deprecated, please use the `enablePopularSuggestions` prop instead.');\n\t\t}\n\t\t// TODO: Remove in 4.0\n\t\tif (renderQuerySuggestions !== undefined) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): The `renderQuerySuggestions` prop has been marked as deprecated, please use the `renderPopularSuggestions` prop instead.');\n\t\t}\n\t\tif (enableAppbase && aggregationField) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): The `aggregationField` prop has been marked as deprecated, please use the `distinctField` prop instead.');\n\t\t}\n\t\tif (!enableAppbase && (distinctField || distinctFieldConfig)) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): In order to use the `distinctField` and `distinctFieldConfig` props, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n\t\t}\n\t\tif (!enableAppbase && index) {\n\t\t\tconsole.warn('Warning(ReactiveSearch): In order to use the `index` prop, the `enableAppbase` prop must be set to true in `ReactiveBase`.');\n\t\t}\n\t\tfetchPopularSuggestions(componentId);\n\t\tif (enableRecentSearches) {\n\t\t\tfetchRecentSearches();\n\t\t}\n\t};\n\n\tDataSearch.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['highlight', 'dataField', 'highlightField', 'aggregationField'], function () {\n\t\t\tvar queryOptions = DataSearch.highlightQuery(_this2.props) || {};\n\t\t\tif (_this2.props.customHighlight && typeof _this2.props.customHighlight === 'function') {\n\t\t\t\t_this2.props.setCustomHighlightOptions(_this2.props.componentId, _this2.props.customHighlight(_this2.props));\n\t\t\t}\n\t\t\t_this2.queryOptions = _extends({}, queryOptions, _this2.getBasicQueryOptions());\n\t\t\t_this2.props.setQueryOptions(_this2.props.componentId, queryOptions);\n\t\t});\n\t\t// Treat defaultQuery and customQuery as reactive props\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {\n\t\t\tthis.updateDefaultQuery(this.state.currentValue, this.props);\n\t\t\tthis.updateQuery(this.state.currentValue, this.props);\n\t\t}\n\n\t\tif (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {\n\t\t\tthis.updateQuery(this.state.currentValue, this.props);\n\t\t}\n\n\t\tif (Array.isArray(this.props.suggestions) && this.state.currentValue.trim().length) {\n\t\t\t// shallow check allows us to set suggestions even if the next set\n\t\t\t// of suggestions are same as the current one\n\t\t\tif (this.props.suggestions !== prevProps.suggestions) {\n\t\t\t\tif (this.props.onSuggestions) {\n\t\t\t\t\tthis.props.onSuggestions(this.props.suggestions);\n\t\t\t\t}\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tthis.setState({\n\t\t\t\t\tsuggestions: this.onSuggestions(this.props.suggestions)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['fieldWeights', 'fuzziness', 'queryFormat', 'dataField', 'nestedField', 'searchOperators'], function () {\n\t\t\t_this2.updateQuery(_this2.state.currentValue, _this2.props);\n\t\t});\n\t\tif (this.props.value !== prevProps.value) {\n\t\t\tthis.setValue(this.props.value, true, this.props, undefined, undefined, false);\n\t\t} else if (\n\t\t// since, selectedValue will be updated when currentValue changes,\n\t\t// we must only check for the changes introduced by\n\t\t// clear action from SelectedFilters component in which case,\n\t\t// the currentValue will never match the updated selectedValue\n\t\tthis.props.selectedValue !== prevProps.selectedValue && this.state.currentValue !== this.props.selectedValue) {\n\t\t\tvar _props2 = this.props,\n\t\t\t    value = _props2.value,\n\t\t\t    onChange = _props2.onChange;\n\n\t\t\tif (!this.props.selectedValue && this.state.currentValue) {\n\t\t\t\t// selected value is cleared, call onValueSelected\n\t\t\t\tthis.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n\t\t\t}\n\t\t\tif (value === undefined) {\n\t\t\t\tthis.setValue(this.props.selectedValue || '', true, this.props);\n\t\t\t} else if (onChange) {\n\t\t\t\t// value prop exists\n\t\t\t\tonChange(this.props.selectedValue || '', this.triggerQuery);\n\t\t\t} else {\n\t\t\t\t// value prop exists and onChange is not defined:\n\t\t\t\t// we need to put the current value back into the store\n\t\t\t\t// if the clear action was triggered by interacting with\n\t\t\t\t// selected-filters component\n\t\t\t\tthis.isPending = false;\n\t\t\t\tthis.setValue(this.state.currentValue, true, this.props);\n\t\t\t}\n\t\t}\n\t};\n\n\tDataSearch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tdocument.removeEventListener('keydown', this.onKeyDown);\n\t};\n\n\t// returns size and aggs property\n\n\n\tDataSearch.prototype.shouldMicRender = function shouldMicRender(showVoiceSearch) {\n\t\t// checks for SSR\n\t\tif (typeof window === 'undefined') return false;\n\t\treturn showVoiceSearch && (window.webkitSpeechRecognition || window.SpeechRecognition);\n\t};\n\n\tDataSearch.prototype.render = function render() {\n\t\tvar _this3 = this;\n\n\t\tvar currentValue = this.state.currentValue;\n\n\t\tvar suggestionsList = this.parsedSuggestions;\n\t\tvar _props3 = this.props,\n\t\t    theme = _props3.theme,\n\t\t    themePreset = _props3.themePreset,\n\t\t    size = _props3.size,\n\t\t    recentSearchesIcon = _props3.recentSearchesIcon,\n\t\t    popularSearchesIcon = _props3.popularSearchesIcon;\n\n\t\tvar hasSuggestions = currentValue ? suggestionsList.length || this.topSuggestions.length : this.defaultSuggestions.length;\n\t\treturn (0, _core.jsx)(\n\t\t\t_Container2.default,\n\t\t\t{ style: this.props.style, className: this.props.className },\n\t\t\tthis.props.title && (0, _core.jsx)(\n\t\t\t\t_Title2.default,\n\t\t\t\t{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\tthis.props.defaultSuggestions || this.props.autosuggest ? (0, _core.jsx)(_downshift2.default, _extends({\n\t\t\t\tid: this.props.componentId + '-downshift',\n\t\t\t\tonChange: this.onSuggestionSelected,\n\t\t\t\tonStateChange: this.handleStateChange,\n\t\t\t\tisOpen: this.state.isOpen,\n\t\t\t\titemToString: function itemToString(i) {\n\t\t\t\t\treturn i;\n\t\t\t\t},\n\t\t\t\trender: function render(_ref) {\n\t\t\t\t\tvar getRootProps = _ref.getRootProps,\n\t\t\t\t\t    getInputProps = _ref.getInputProps,\n\t\t\t\t\t    getItemProps = _ref.getItemProps,\n\t\t\t\t\t    isOpen = _ref.isOpen,\n\t\t\t\t\t    highlightedIndex = _ref.highlightedIndex,\n\t\t\t\t\t    setHighlightedIndex = _ref.setHighlightedIndex,\n\t\t\t\t\t    rest = _objectWithoutProperties(_ref, ['getRootProps', 'getInputProps', 'getItemProps', 'isOpen', 'highlightedIndex', 'setHighlightedIndex']);\n\n\t\t\t\t\tvar renderSuggestionsDropdown = function renderSuggestionsDropdown() {\n\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t_react2.default.Fragment,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_this3.hasCustomRenderer && _this3.getComponent(_extends({\n\t\t\t\t\t\t\t\tgetInputProps: getInputProps,\n\t\t\t\t\t\t\t\tgetItemProps: getItemProps,\n\t\t\t\t\t\t\t\tisOpen: isOpen,\n\t\t\t\t\t\t\t\thighlightedIndex: highlightedIndex,\n\t\t\t\t\t\t\t\tsetHighlightedIndex: setHighlightedIndex\n\t\t\t\t\t\t\t}, rest)),\n\t\t\t\t\t\t\tisOpen && _this3.renderLoader(),\n\t\t\t\t\t\t\tisOpen && _this3.renderError(),\n\t\t\t\t\t\t\t!_this3.hasCustomRenderer && isOpen && hasSuggestions ? (0, _core.jsx)(\n\t\t\t\t\t\t\t\t'ul',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcss: (0, _Input.suggestions)(themePreset, theme),\n\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'list')\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuggestionsList.slice(0, size).map(function (item, index) {\n\t\t\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: item }), {\n\t\t\t\t\t\t\t\t\t\t\tkey: index + 1 + '-' + item.value,\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this3.getBackgroundColor(highlightedIndex, index)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_SuggestionItem2.default, {\n\t\t\t\t\t\t\t\t\t\t\tcurrentValue: currentValue,\n\t\t\t\t\t\t\t\t\t\t\tsuggestion: item\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t_this3.defaultSuggestions.map(function (sugg, index) {\n\t\t\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: sugg }), {\n\t\t\t\t\t\t\t\t\t\t\tkey: suggestionsList.length + index + 1 + '-' + sugg.value,\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this3.getBackgroundColor(highlightedIndex, suggestionsList.length + index),\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-start'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ style: { padding: '0 10px 0 0' } },\n\t\t\t\t\t\t\t\t\t\t\tsugg.source && sugg.source._recent_search && (0, _core.jsx)(_CustomSvg2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\ticonId: sugg.label + '-icon',\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'recent-search-icon') || null,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: recentSearchesIcon,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'recent-search-icon'\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tsugg.source && sugg.source._popular_suggestion && (0, _core.jsx)(_CustomSvg2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\ticonId: sugg.label + '-icon',\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: popularSearchesIcon,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'popular-search-icon'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_SuggestionItem2.default, {\n\t\t\t\t\t\t\t\t\t\t\tcurrentValue: currentValue,\n\t\t\t\t\t\t\t\t\t\t\tsuggestion: sugg\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t(0, _utils.hasPopularSuggestionsRenderer)(_this3.props) ? _this3.getComponent(_extends({\n\t\t\t\t\t\t\t\t\tgetInputProps: getInputProps,\n\t\t\t\t\t\t\t\t\tgetItemProps: getItemProps,\n\t\t\t\t\t\t\t\t\tisOpen: isOpen,\n\t\t\t\t\t\t\t\t\thighlightedIndex: highlightedIndex\n\t\t\t\t\t\t\t\t}, rest), true) : _this3.topSuggestions.map(function (sugg, index) {\n\t\t\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: sugg }), {\n\t\t\t\t\t\t\t\t\t\t\tkey: suggestionsList.length + index + 1 + '-' + sugg.value,\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this3.getBackgroundColor(highlightedIndex, suggestionsList.length + index),\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-start'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ style: { padding: '0 10px 0 0' } },\n\t\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_CustomSvg2.default, {\n\t\t\t\t\t\t\t\t\t\t\t\ticonId: sugg.label + '-icon',\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'popular-search-icon') || null,\n\t\t\t\t\t\t\t\t\t\t\t\ticon: popularSearchesIcon,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'popular-search-icon'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t(0, _core.jsx)(_SuggestionItem2.default, {\n\t\t\t\t\t\t\t\t\t\t\tcurrentValue: currentValue,\n\t\t\t\t\t\t\t\t\t\t\tsuggestion: sugg\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : _this3.renderNoSuggestion(suggestionsList)\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tgetRootProps({ css: _Input.suggestionsContainer }, { suppressRefError: true }),\n\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t_InputGroup2.default,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t_this3.renderInputAddonBefore(),\n\t\t\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t\t\t_InputWrapper2.default,\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t(0, _core.jsx)(_Input2.default, _extends({\n\t\t\t\t\t\t\t\t\t'aria-label': _this3.props.componentId,\n\t\t\t\t\t\t\t\t\tid: _this3.props.componentId + '-input',\n\t\t\t\t\t\t\t\t\tshowIcon: _this3.props.showIcon,\n\t\t\t\t\t\t\t\t\tshowClear: _this3.props.showClear,\n\t\t\t\t\t\t\t\t\ticonPosition: _this3.props.iconPosition,\n\t\t\t\t\t\t\t\t\tref: function ref(c) {\n\t\t\t\t\t\t\t\t\t\t_this3._inputRef = c;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, getInputProps({\n\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this3.props.innerClass, 'input'),\n\t\t\t\t\t\t\t\t\tplaceholder: _this3.props.placeholder,\n\t\t\t\t\t\t\t\t\tvalue: _this3.state.currentValue === null ? '' : _this3.state.currentValue,\n\t\t\t\t\t\t\t\t\tonChange: _this3.onInputChange,\n\t\t\t\t\t\t\t\t\tonBlur: _this3.withTriggerQuery(_this3.props.onBlur),\n\t\t\t\t\t\t\t\t\tonFocus: _this3.handleFocus,\n\t\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\t\t// clear highlighted index\n\t\t\t\t\t\t\t\t\t\tsetHighlightedIndex(null);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonKeyPress: _this3.withTriggerQuery(_this3.props.onKeyPress),\n\t\t\t\t\t\t\t\t\tonKeyDown: function onKeyDown(e) {\n\t\t\t\t\t\t\t\t\t\treturn _this3.handleKeyDown(e, highlightedIndex);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonKeyUp: _this3.withTriggerQuery(_this3.props.onKeyUp),\n\t\t\t\t\t\t\t\t\tautoFocus: _this3.props.autoFocus\n\t\t\t\t\t\t\t\t}), {\n\t\t\t\t\t\t\t\t\tthemePreset: themePreset,\n\t\t\t\t\t\t\t\t\ttype: _this3.props.type\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t_this3.renderIcons(),\n\t\t\t\t\t\t\t\t!_this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest))\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_this3.renderInputAddonAfter()\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_this3.props.expandSuggestionsContainer && renderSuggestionsDropdown.apply(undefined, [getRootProps, getInputProps, getItemProps, isOpen, highlightedIndex, setHighlightedIndex].concat(rest))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, this.props.downShiftProps)) : (0, _core.jsx)(\n\t\t\t\t'div',\n\t\t\t\t{ css: _Input.suggestionsContainer },\n\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t_InputGroup2.default,\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.renderInputAddonBefore(),\n\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t_InputWrapper2.default,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t(0, _core.jsx)(_Input2.default, {\n\t\t\t\t\t\t\t'aria-label': this.props.componentId,\n\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(this.props.innerClass, 'input') || null,\n\t\t\t\t\t\t\tplaceholder: this.props.placeholder,\n\t\t\t\t\t\t\tvalue: this.state.currentValue ? this.state.currentValue : '',\n\t\t\t\t\t\t\tonChange: this.onInputChange,\n\t\t\t\t\t\t\tonBlur: this.withTriggerQuery(this.props.onBlur),\n\t\t\t\t\t\t\tonFocus: this.withTriggerQuery(this.props.onFocus),\n\t\t\t\t\t\t\tonKeyPress: this.withTriggerQuery(this.props.onKeyPress),\n\t\t\t\t\t\t\tonKeyDown: this.withTriggerQuery(this.props.onKeyDown),\n\t\t\t\t\t\t\tonKeyUp: this.withTriggerQuery(this.props.onKeyUp),\n\t\t\t\t\t\t\tautoFocus: this.props.autoFocus,\n\t\t\t\t\t\t\ticonPosition: this.props.iconPosition,\n\t\t\t\t\t\t\tshowIcon: this.props.showIcon,\n\t\t\t\t\t\t\tshowClear: this.props.showClear,\n\t\t\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tthis.renderIcons()\n\t\t\t\t\t),\n\t\t\t\t\tthis.renderInputAddonAfter()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\t_createClass(DataSearch, [{\n\t\tkey: 'stats',\n\t\tget: function get() {\n\t\t\treturn (0, _helper.getResultStats)(this.props);\n\t\t}\n\t}, {\n\t\tkey: 'parsedSuggestions',\n\t\tget: function get() {\n\t\t\tvar suggestionsList = [];\n\t\t\tvar currentValue = this.state.currentValue;\n\t\t\tvar defaultSuggestions = this.props.defaultSuggestions;\n\n\t\t\tif (!currentValue && defaultSuggestions && defaultSuggestions.length) {\n\t\t\t\tsuggestionsList = defaultSuggestions;\n\t\t\t} else if (currentValue) {\n\t\t\t\tsuggestionsList = this.state.suggestions;\n\t\t\t}\n\t\t\treturn (0, _helper.withClickIds)(suggestionsList);\n\t\t}\n\t}, {\n\t\tkey: 'hasCustomRenderer',\n\t\tget: function get() {\n\t\t\treturn (0, _utils.hasCustomRenderer)(this.props);\n\t\t}\n\t}, {\n\t\tkey: 'topSuggestions',\n\t\tget: function get() {\n\t\t\tvar _props4 = this.props,\n\t\t\t    enableQuerySuggestions = _props4.enableQuerySuggestions,\n\t\t\t    enablePopularSuggestions = _props4.enablePopularSuggestions;\n\t\t\tvar currentValue = this.state.currentValue;\n\n\t\t\tif (!currentValue) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn enableQuerySuggestions || enablePopularSuggestions ? this.normalizedPopularSuggestions : [];\n\t\t}\n\t}, {\n\t\tkey: 'normalizedRecentSearches',\n\t\tget: function get() {\n\t\t\tvar recentSearches = this.props.recentSearches;\n\n\t\t\treturn recentSearches || [];\n\t\t}\n\t}, {\n\t\tkey: 'normalizedPopularSuggestions',\n\t\tget: function get() {\n\t\t\tvar _props5 = this.props,\n\t\t\t    popularSuggestions = _props5.popularSuggestions,\n\t\t\t    showDistinctSuggestions = _props5.showDistinctSuggestions,\n\t\t\t    defaultPopularSuggestions = _props5.defaultPopularSuggestions;\n\t\t\tvar currentValue = this.state.currentValue;\n\n\t\t\treturn (0, _helper.getTopSuggestions)(\n\t\t\t// use default popular suggestions if value is empty\n\t\t\tcurrentValue ? popularSuggestions : defaultPopularSuggestions, currentValue, showDistinctSuggestions);\n\t\t}\n\t}, {\n\t\tkey: 'defaultSuggestions',\n\t\tget: function get() {\n\t\t\tvar _props6 = this.props,\n\t\t\t    enableQuerySuggestions = _props6.enableQuerySuggestions,\n\t\t\t    enablePopularSuggestions = _props6.enablePopularSuggestions,\n\t\t\t    showDistinctSuggestions = _props6.showDistinctSuggestions,\n\t\t\t    defaultPopularSuggestions = _props6.defaultPopularSuggestions;\n\n\t\t\tvar isPopularSuggestionsEnabled = enableQuerySuggestions || enablePopularSuggestions;\n\t\t\tvar currentValue = this.state.currentValue;\n\n\t\t\tif (currentValue) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tvar customDefaultPopularSuggestions = defaultPopularSuggestions.map(function (suggestion) {\n\t\t\t\treturn _extends({}, suggestion, {\n\t\t\t\t\t_popular_suggestion: true\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar customNormalizedRecentSearches = this.normalizedRecentSearches.map(function (search) {\n\t\t\t\treturn _extends({}, search, {\n\t\t\t\t\t_recent_search: true\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar defaultSuggestions = isPopularSuggestionsEnabled ? [].concat(customNormalizedRecentSearches, customDefaultPopularSuggestions) : customNormalizedRecentSearches;\n\n\t\t\treturn (0, _helper.getTopSuggestions)(\n\t\t\t// use default popular suggestions if value is empty\n\t\t\tdefaultSuggestions, currentValue, showDistinctSuggestions);\n\t\t}\n\t}]);\n\n\treturn DataSearch;\n}(_react.Component);\n\nDataSearch.highlightQuery = function (props) {\n\tif (props.customHighlight) {\n\t\treturn props.customHighlight(props);\n\t}\n\tif (!props.highlight) {\n\t\treturn null;\n\t}\n\tvar fields = {};\n\tvar normalizedDataField = (0, _helper.normalizeDataField)(props.dataField).map(function (dataField) {\n\t\treturn dataField.field;\n\t});\n\tvar highlightField = props.highlightField ? props.highlightField : normalizedDataField;\n\n\tif (typeof highlightField === 'string') {\n\t\tfields[highlightField] = {};\n\t} else if (Array.isArray(highlightField)) {\n\t\thighlightField.forEach(function (item) {\n\t\t\tfields[item] = {};\n\t\t});\n\t}\n\n\treturn {\n\t\thighlight: _extends({\n\t\t\tpre_tags: ['<mark>'],\n\t\t\tpost_tags: ['</mark>'],\n\t\t\tfields: fields\n\t\t}, props.highlightField && { require_field_match: false })\n\t};\n};\n\nDataSearch.defaultQuery = function (value, props) {\n\tvar finalQuery = null;\n\n\tif (value) {\n\t\tvar fields = (0, _helper.normalizeDataField)(props.dataField, props.fieldWeights);\n\n\t\tif (props.queryString) {\n\t\t\tfinalQuery = {\n\t\t\t\tquery_string: DataSearch.shouldQuery(value, fields, props)\n\t\t\t};\n\t\t} else if (props.searchOperators) {\n\t\t\tfinalQuery = {\n\t\t\t\tsimple_query_string: DataSearch.shouldQuery(value, fields, props)\n\t\t\t};\n\t\t} else {\n\t\t\tfinalQuery = {\n\t\t\t\tbool: {\n\t\t\t\t\tshould: DataSearch.shouldQuery(value, fields, props),\n\t\t\t\t\tminimum_should_match: '1'\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tif (value === '') {\n\t\tfinalQuery = null;\n\t}\n\n\tif (finalQuery && props.nestedField) {\n\t\tfinalQuery = {\n\t\t\tnested: {\n\t\t\t\tpath: props.nestedField,\n\t\t\t\tquery: finalQuery\n\t\t\t}\n\t\t};\n\t}\n\treturn finalQuery;\n};\n\nDataSearch.shouldQuery = function (value, dataFields, props) {\n\tvar finalQuery = [];\n\tvar phrasePrefixFields = [];\n\tvar fields = dataFields.map(function (dataField) {\n\t\tvar queryField = '' + dataField.field + (dataField.weight ? '^' + dataField.weight : '');\n\t\tif (!(dataField.field.endsWith('.keyword') || dataField.field.endsWith('.autosuggest') || dataField.field.endsWith('.search'))) {\n\t\t\tphrasePrefixFields.push(queryField);\n\t\t}\n\t\treturn queryField;\n\t});\n\tif (props.searchOperators || props.queryString) {\n\t\treturn {\n\t\t\tquery: value,\n\t\t\tfields: fields,\n\t\t\tdefault_operator: props.queryFormat\n\t\t};\n\t}\n\n\tif (props.queryFormat === 'and') {\n\t\tfinalQuery.push({\n\t\t\tmulti_match: {\n\t\t\t\tquery: value,\n\t\t\t\tfields: fields,\n\t\t\t\ttype: 'cross_fields',\n\t\t\t\toperator: 'and'\n\t\t\t}\n\t\t});\n\t\tfinalQuery.push({\n\t\t\tmulti_match: {\n\t\t\t\tquery: value,\n\t\t\t\tfields: fields,\n\t\t\t\ttype: 'phrase',\n\t\t\t\toperator: 'and'\n\t\t\t}\n\t\t});\n\t\tif (phrasePrefixFields.length > 0) {\n\t\t\tfinalQuery.push({\n\t\t\t\tmulti_match: {\n\t\t\t\t\tquery: value,\n\t\t\t\t\tfields: phrasePrefixFields,\n\t\t\t\t\ttype: 'phrase_prefix',\n\t\t\t\t\toperator: 'and'\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn finalQuery;\n\t}\n\n\tfinalQuery.push({\n\t\tmulti_match: {\n\t\t\tquery: value,\n\t\t\tfields: fields,\n\t\t\ttype: 'best_fields',\n\t\t\toperator: 'or',\n\t\t\tfuzziness: props.fuzziness ? props.fuzziness : 0\n\t\t}\n\t});\n\n\tfinalQuery.push({\n\t\tmulti_match: {\n\t\t\tquery: value,\n\t\t\tfields: fields,\n\t\t\ttype: 'phrase',\n\t\t\toperator: 'or'\n\t\t}\n\t});\n\n\tif (phrasePrefixFields.length > 0) {\n\t\tfinalQuery.push({\n\t\t\tmulti_match: {\n\t\t\t\tquery: value,\n\t\t\t\tfields: phrasePrefixFields,\n\t\t\t\ttype: 'phrase_prefix',\n\t\t\t\toperator: 'or'\n\t\t\t}\n\t\t});\n\t}\n\n\treturn finalQuery;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this4 = this;\n\n\tthis.getBasicQueryOptions = function () {\n\t\tvar aggregationField = _this4.props.aggregationField;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tvar queryOptions = (0, _helper.getQueryOptions)(_this4.props);\n\t\tif (aggregationField) {\n\t\t\tqueryOptions.aggs = (0, _helper.getCompositeAggsQuery)({\n\t\t\t\tvalue: currentValue,\n\t\t\t\tprops: _this4.props,\n\t\t\t\tshowTopHits: true\n\t\t\t}).aggs;\n\t\t}\n\t\treturn queryOptions;\n\t};\n\n\tthis.onSuggestions = function (results) {\n\t\treturn (0, _helper.handleOnSuggestions)(results, _this4.state.currentValue, _this4.props);\n\t};\n\n\tthis.setValue = function (value) {\n\t\tvar isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this4.props;\n\t\tvar cause = arguments[3];\n\t\tvar hasMounted = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\t\tvar toggleIsOpen = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n\n\t\tvar performUpdate = function performUpdate() {\n\t\t\tif (hasMounted) {\n\t\t\t\tvar _props7 = _this4.props,\n\t\t\t\t    enableRecentSearches = _props7.enableRecentSearches,\n\t\t\t\t    fetchRecentSearches = _props7.fetchRecentSearches;\n\t\t\t\t// Refresh recent searches when value becomes empty\n\n\t\t\t\tif (!value && _this4.state.currentValue && enableRecentSearches) {\n\t\t\t\t\tfetchRecentSearches();\n\t\t\t\t}\n\t\t\t\t_this4.setState({\n\t\t\t\t\tcurrentValue: value\n\t\t\t\t}, function () {\n\t\t\t\t\tif (isDefaultValue) {\n\t\t\t\t\t\tif (_this4.props.autosuggest) {\n\t\t\t\t\t\t\tif (toggleIsOpen) {\n\t\t\t\t\t\t\t\t_this4.setState({\n\t\t\t\t\t\t\t\t\tisOpen: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_this4.updateDefaultQuery(value, props);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// in case of strict selection only SUGGESTION_SELECT should be able\n\t\t\t\t\t\t// to set the query otherwise the value should reset\n\t\t\t\t\t\tif (props.strictSelection) {\n\t\t\t\t\t\t\tif (cause === _causes2.default.SUGGESTION_SELECT || value === '') {\n\t\t\t\t\t\t\t\t_this4.updateQuery(value, props);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_this4.setValue('', true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this4.updateQuery(value, props);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// debounce for handling text while typing\n\t\t\t\t\t\t_this4.handleTextChange(value);\n\t\t\t\t\t}\n\t\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t\t\tvar suggestionChangeHandler = function suggestionChangeHandler() {\n\t\t\t\t\t\t// invoke on suggestions\n\t\t\t\t\t\tif (_this4.props.onSuggestions) {\n\t\t\t\t\t\t\t_this4.props.onSuggestions(_this4.props.suggestions);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t// Set the already fetched suggestions if query is same as used last to fetch the hits\n\t\t\t\t\tif (value === props.lastUsedQuery) {\n\t\t\t\t\t\t_this4.setState({\n\t\t\t\t\t\t\tsuggestions: _this4.onSuggestions(_this4.props.suggestions)\n\t\t\t\t\t\t}, suggestionChangeHandler);\n\t\t\t\t\t} else if (!value) {\n\t\t\t\t\t\t// reset suggestions\n\t\t\t\t\t\t_this4.setState({\n\t\t\t\t\t\t\tsuggestions: []\n\t\t\t\t\t\t}, suggestionChangeHandler);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (_this4.props.autosuggest) {\n\t\t\t\t\t_this4.updateDefaultQuery(value, props);\n\t\t\t\t}\n\t\t\t\t_this4.updateQuery(value, props);\n\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t}\n\t\t};\n\t\t(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);\n\t};\n\n\tthis.handleTextChange = (0, _helper.debounce)(function (value) {\n\t\tif (_this4.props.autosuggest) {\n\t\t\t_this4.updateDefaultQuery(value, _this4.props);\n\t\t} else {\n\t\t\t_this4.updateQuery(value, _this4.props);\n\t\t}\n\t}, this.props.debounce);\n\n\tthis.updateDefaultQuery = function (value, props) {\n\t\tvar defaultQuery = props.defaultQuery;\n\n\t\tvar defaultQueryOptions = void 0;\n\t\tvar query = DataSearch.defaultQuery(value, props);\n\t\tif (defaultQuery) {\n\t\t\tvar defaultQueryTobeSet = defaultQuery(value, props) || {};\n\t\t\tif (defaultQueryTobeSet.query) {\n\t\t\t\tquery = defaultQueryTobeSet.query;\n\t\t\t}\n\t\t\tdefaultQueryOptions = (0, _helper.getOptionsFromQuery)(defaultQueryTobeSet);\n\t\t\t// Update calculated default query in store\n\t\t\t(0, _helper.updateDefaultQuery)(props.componentId, props, value);\n\t\t}\n\t\tprops.setSuggestionsSearchValue(value);\n\t\tprops.setQueryOptions(_this4.internalComponent, _extends({}, _this4.queryOptions, defaultQueryOptions));\n\t\tprops.updateQuery({\n\t\t\tcomponentId: _this4.internalComponent,\n\t\t\tquery: query,\n\t\t\tvalue: value,\n\t\t\tcomponentType: _constants.componentTypes.dataSearch\n\t\t});\n\t};\n\n\tthis.updateQuery = function (value, props) {\n\t\tvar customQuery = props.customQuery,\n\t\t    filterLabel = props.filterLabel,\n\t\t    showFilter = props.showFilter,\n\t\t    URLParams = props.URLParams;\n\n\n\t\tvar customQueryOptions = void 0;\n\t\tvar query = DataSearch.defaultQuery(value, props);\n\t\tif (customQuery) {\n\t\t\tvar customQueryTobeSet = customQuery(value, props) || {};\n\t\t\tvar queryTobeSet = customQueryTobeSet.query;\n\t\t\tif (queryTobeSet) {\n\t\t\t\tquery = queryTobeSet;\n\t\t\t}\n\t\t\tcustomQueryOptions = (0, _helper.getOptionsFromQuery)(customQueryTobeSet);\n\t\t\t(0, _helper.updateCustomQuery)(props.componentId, props, value);\n\t\t}\n\n\t\tif (!_this4.isPending) {\n\t\t\t// execute the query on an uncontrolled component\n\t\t\t// query options should be applied to the source component,\n\t\t\t// not on internal component, hence using `this.props.componentId` here\n\t\t\tprops.setQueryOptions(props.componentId, _extends({}, _this4.queryOptions, customQueryOptions));\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: props.componentId,\n\t\t\t\tquery: query,\n\t\t\t\tvalue: value,\n\t\t\t\tlabel: filterLabel,\n\t\t\t\tshowFilter: showFilter,\n\t\t\t\tURLParams: URLParams,\n\t\t\t\tcomponentType: _constants.componentTypes.dataSearch\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleFocus = function (event) {\n\t\t_this4.setState({\n\t\t\tisOpen: true\n\t\t});\n\t\tif (_this4.props.onFocus) {\n\t\t\t_this4.props.onFocus(event, _this4.triggerQuery);\n\t\t}\n\t};\n\n\tthis.clearValue = function () {\n\t\t_this4.isPending = false;\n\t\tvar onChange = _this4.props.onChange;\n\n\t\t_this4.setValue('', true);\n\t\tif (onChange) {\n\t\t\tonChange('', _this4.triggerQuery);\n\t\t}\n\t\t_this4.onValueSelected('', _causes2.default.CLEAR_VALUE, null);\n\t};\n\n\tthis.handleKeyDown = function (event, highlightedIndex) {\n\t\tvar _props8 = _this4.props,\n\t\t    value = _props8.value,\n\t\t    onChange = _props8.onChange;\n\n\t\tif (value !== undefined && onChange) {\n\t\t\t_this4.isPending = true;\n\t\t}\n\t\t// if a suggestion was selected, delegate the handling\n\t\t// to suggestion handler\n\t\tif (event.key === 'Enter' && highlightedIndex === null) {\n\t\t\t_this4.setValue(event.target.value, true);\n\t\t\t_this4.onValueSelected(event.target.value, _causes2.default.ENTER_PRESS);\n\t\t}\n\t\tif (_this4.props.onKeyDown) {\n\t\t\t_this4.props.onKeyDown(event, _this4.triggerQuery);\n\t\t}\n\t};\n\n\tthis.onInputChange = function (e) {\n\t\tvar inputValue = e.target.value;\n\n\t\tif (!_this4.state.isOpen) {\n\t\t\t_this4.setState({\n\t\t\t\tisOpen: true\n\t\t\t});\n\t\t}\n\n\t\tvar _props9 = _this4.props,\n\t\t    value = _props9.value,\n\t\t    onChange = _props9.onChange;\n\n\t\tif (value === undefined) {\n\t\t\t_this4.setValue(inputValue);\n\t\t} else if (onChange) {\n\t\t\t_this4.isPending = true;\n\t\t\t// handle caret position in controlled components\n\t\t\t(0, _utils.handleCaretPosition)(e);\n\t\t\tonChange(inputValue, _this4.triggerQuery, e);\n\t\t}\n\t};\n\n\tthis.triggerQuery = function () {\n\t\tvar _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t\t    _ref2$isOpen = _ref2.isOpen,\n\t\t    isOpen = _ref2$isOpen === undefined ? false : _ref2$isOpen;\n\n\t\t_this4.isPending = false;\n\t\t_this4.setValue(_this4.props.value, !isOpen, _this4.props);\n\t};\n\n\tthis.onSuggestionSelected = function (suggestion) {\n\t\tvar _props10 = _this4.props,\n\t\t    value = _props10.value,\n\t\t    onChange = _props10.onChange;\n\n\t\t_this4.setState({\n\t\t\tisOpen: false\n\t\t});\n\t\tif (value === undefined) {\n\t\t\t_this4.setValue(suggestion.value, true, _this4.props, _causes2.default.SUGGESTION_SELECT);\n\t\t} else if (onChange) {\n\t\t\t_this4.isPending = false;\n\t\t\tonChange(suggestion.value, _this4.triggerQuery);\n\t\t}\n\t\t// Record analytics for selected suggestions\n\t\t_this4.triggerClickAnalytics(suggestion._click_id);\n\t\t// onValueSelected is user interaction driven:\n\t\t// it should be triggered irrespective of controlled (or)\n\t\t// uncontrolled component behavior\n\t\t_this4.onValueSelected(suggestion.value, _causes2.default.SUGGESTION_SELECT, suggestion.source);\n\t};\n\n\tthis.onValueSelected = function () {\n\t\tfor (var _len = arguments.length, cause = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\tcause[_key - 1] = arguments[_key];\n\t\t}\n\n\t\tvar currentValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this4.state.currentValue;\n\t\tvar onValueSelected = _this4.props.onValueSelected;\n\n\t\tif (onValueSelected) {\n\t\t\tonValueSelected.apply(undefined, [currentValue].concat(cause));\n\t\t}\n\t};\n\n\tthis.handleStateChange = function (changes) {\n\t\tvar isOpen = changes.isOpen,\n\t\t    type = changes.type;\n\n\t\tif (type === _downshift2.default.stateChangeTypes.mouseUp && isOpen !== undefined) {\n\t\t\t_this4.setState({\n\t\t\t\tisOpen: isOpen\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.getBackgroundColor = function (highlightedIndex, index) {\n\t\tvar isDark = _this4.props.themePreset === 'dark';\n\t\tif (isDark) {\n\t\t\treturn highlightedIndex === index ? '#555' : '#424242';\n\t\t}\n\t\treturn highlightedIndex === index ? '#eee' : '#fff';\n\t};\n\n\tthis.handleSearchIconClick = function () {\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tif (currentValue.trim()) {\n\t\t\t_this4.isPending = false;\n\t\t\t_this4.setValue(currentValue, true);\n\t\t\t_this4.onValueSelected(currentValue, _causes2.default.SEARCH_ICON_CLICK);\n\t\t}\n\t};\n\n\tthis.handleVoiceResults = function (_ref3) {\n\t\tvar results = _ref3.results;\n\n\t\tif (results && results[0] && results[0].isFinal && results[0][0] && results[0][0].transcript && results[0][0].transcript.trim()) {\n\t\t\t_this4.isPending = false;\n\t\t\t_this4.setValue(results[0][0].transcript.trim(), true);\n\t\t}\n\t};\n\n\tthis.renderInputAddonBefore = function () {\n\t\tvar addonBefore = _this4.props.addonBefore;\n\n\t\tif (addonBefore) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_InputAddon2.default,\n\t\t\t\tnull,\n\t\t\t\taddonBefore\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tthis.renderInputAddonAfter = function () {\n\t\tvar addonAfter = _this4.props.addonAfter;\n\n\t\tif (addonAfter) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_InputAddon2.default,\n\t\t\t\tnull,\n\t\t\t\taddonAfter\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tthis.renderIcon = function () {\n\t\tif (_this4.props.showIcon) {\n\t\t\treturn _this4.props.icon || (0, _core.jsx)(_SearchSvg2.default, null);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderCancelIcon = function () {\n\t\tif (_this4.props.showClear) {\n\t\t\treturn _this4.props.clearIcon || (0, _core.jsx)(_CancelSvg2.default, null);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderIcons = function () {\n\t\tvar _props11 = _this4.props,\n\t\t    showIcon = _props11.showIcon,\n\t\t    showClear = _props11.showClear,\n\t\t    renderMic = _props11.renderMic,\n\t\t    getMicInstance = _props11.getMicInstance,\n\t\t    showVoiceSearch = _props11.showVoiceSearch,\n\t\t    iconPosition = _props11.iconPosition,\n\t\t    innerClass = _props11.innerClass;\n\n\t\treturn (0, _core.jsx)(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t(0, _core.jsx)(\n\t\t\t\t_IconGroup2.default,\n\t\t\t\t{ groupPosition: 'right', positionType: 'absolute' },\n\t\t\t\t_this4.state.currentValue && showClear && (0, _core.jsx)(\n\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t{ onClick: _this4.clearValue, showIcon: showIcon, isClearIcon: true },\n\t\t\t\t\t_this4.renderCancelIcon()\n\t\t\t\t),\n\t\t\t\t_this4.shouldMicRender(showVoiceSearch) && (0, _core.jsx)(_Mic2.default, {\n\t\t\t\t\tgetInstance: getMicInstance,\n\t\t\t\t\trender: renderMic,\n\t\t\t\t\tonResult: _this4.handleVoiceResults,\n\t\t\t\t\tclassName: (0, _helper.getClassName)(innerClass, 'mic') || null\n\t\t\t\t}),\n\t\t\t\ticonPosition === 'right' && (0, _core.jsx)(\n\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t{ onClick: _this4.handleSearchIconClick },\n\t\t\t\t\t_this4.renderIcon()\n\t\t\t\t)\n\t\t\t),\n\t\t\t(0, _core.jsx)(\n\t\t\t\t_IconGroup2.default,\n\t\t\t\t{ groupPosition: 'left', positionType: 'absolute' },\n\t\t\t\ticonPosition === 'left' && (0, _core.jsx)(\n\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t{ onClick: _this4.handleSearchIconClick },\n\t\t\t\t\t_this4.renderIcon()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\tthis.renderNoSuggestion = function () {\n\t\tvar finalSuggestionsList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\t\tvar _props12 = _this4.props,\n\t\t    themePreset = _props12.themePreset,\n\t\t    theme = _props12.theme,\n\t\t    isLoading = _props12.isLoading,\n\t\t    renderNoSuggestion = _props12.renderNoSuggestion,\n\t\t    innerClass = _props12.innerClass,\n\t\t    error = _props12.error,\n\t\t    renderError = _props12.renderError;\n\t\tvar _state = _this4.state,\n\t\t    isOpen = _state.isOpen,\n\t\t    currentValue = _state.currentValue;\n\n\t\tif (renderNoSuggestion && isOpen && !finalSuggestionsList.length && !isLoading && currentValue && !(renderError && error)) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_SuggestionWrapper2.default,\n\t\t\t\t{\n\t\t\t\t\tinnerClass: innerClass,\n\t\t\t\t\tthemePreset: themePreset,\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tinnerClassName: 'noSuggestion'\n\t\t\t\t},\n\t\t\t\ttypeof renderNoSuggestion === 'function' ? renderNoSuggestion(currentValue) : renderNoSuggestion\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderLoader = function () {\n\t\tvar _props13 = _this4.props,\n\t\t    loader = _props13.loader,\n\t\t    isLoading = _props13.isLoading,\n\t\t    themePreset = _props13.themePreset,\n\t\t    theme = _props13.theme,\n\t\t    innerClass = _props13.innerClass;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tif (isLoading && loader && currentValue) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_SuggestionWrapper2.default,\n\t\t\t\t{\n\t\t\t\t\tinnerClass: innerClass,\n\t\t\t\t\tinnerClassName: 'loader',\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t},\n\t\t\t\tloader\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.renderError = function () {\n\t\tvar _props14 = _this4.props,\n\t\t    error = _props14.error,\n\t\t    renderError = _props14.renderError,\n\t\t    themePreset = _props14.themePreset,\n\t\t    theme = _props14.theme,\n\t\t    isLoading = _props14.isLoading,\n\t\t    innerClass = _props14.innerClass;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tif (error && renderError && currentValue && !isLoading) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_SuggestionWrapper2.default,\n\t\t\t\t{\n\t\t\t\t\tinnerClass: innerClass,\n\t\t\t\t\tinnerClassName: 'error',\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tthemePreset: themePreset\n\t\t\t\t},\n\t\t\t\t(0, _utils.isFunction)(renderError) ? renderError(error) : renderError\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tthis.getComponent = function () {\n\t\tvar downshiftProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\tvar isPopularSuggestionsRender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\tvar _props15 = _this4.props,\n\t\t    error = _props15.error,\n\t\t    isLoading = _props15.isLoading,\n\t\t    aggregationData = _props15.aggregationData,\n\t\t    promotedResults = _props15.promotedResults,\n\t\t    customData = _props15.customData,\n\t\t    rawData = _props15.rawData;\n\t\tvar currentValue = _this4.state.currentValue;\n\n\t\tvar data = {\n\t\t\terror: error,\n\t\t\tloading: isLoading,\n\t\t\tdownshiftProps: downshiftProps,\n\t\t\tdata: _this4.parsedSuggestions,\n\t\t\tpromotedData: promotedResults || [],\n\t\t\tcustomData: customData || {},\n\t\t\taggregationData: aggregationData || [],\n\t\t\trawData: rawData,\n\t\t\tvalue: currentValue,\n\t\t\ttriggerClickAnalytics: _this4.triggerClickAnalytics,\n\t\t\tresultStats: _this4.stats,\n\t\t\t// TODO: Remove in v4\n\t\t\tquerySuggestions: _this4.normalizedPopularSuggestions,\n\t\t\tpopularSuggestions: _this4.normalizedPopularSuggestions,\n\t\t\trecentSearches: _this4.normalizedRecentSearches\n\t\t};\n\t\tif (isPopularSuggestionsRender) {\n\t\t\treturn (0, _utils.getPopularSuggestionsComponent)({\n\t\t\t\tdownshiftProps: downshiftProps,\n\t\t\t\tdata: _this4.normalizedPopularSuggestions,\n\t\t\t\tvalue: currentValue,\n\t\t\t\tloading: isLoading,\n\t\t\t\terror: error\n\t\t\t}, _this4.props);\n\t\t}\n\t\treturn (0, _utils.getComponent)(data, _this4.props);\n\t};\n\n\tthis.triggerClickAnalytics = function (searchPosition, documentId) {\n\t\tvar docId = documentId;\n\t\tif (!docId) {\n\t\t\tvar hitData = _this4.parsedSuggestions.find(function (hit) {\n\t\t\t\treturn hit._click_id === searchPosition;\n\t\t\t});\n\t\t\tif (hitData && hitData.source && hitData.source._id) {\n\t\t\t\tdocId = hitData.source._id;\n\t\t\t}\n\t\t}\n\t\t_this4.props.triggerAnalytics(searchPosition, docId);\n\t};\n\n\tthis.withTriggerQuery = function (func) {\n\t\tif (func) {\n\t\t\treturn function (e) {\n\t\t\t\treturn func(e, _this4.triggerQuery);\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t};\n\n\tthis.focusSearchBox = function (event) {\n\t\tvar elt = event.target || event.srcElement;\n\t\tvar tagName = elt.tagName;\n\t\tif (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n\t\t\t// already in an input\n\t\t\treturn;\n\t\t}\n\n\t\tif (_this4._inputRef) {\n\t\t\t_this4._inputRef.focus();\n\t\t}\n\t};\n\n\tthis.listenForFocusShortcuts = function () {\n\t\tvar focusShortcuts = _this4.props.focusShortcuts;\n\n\t\tif ((0, _utils.isEmpty)(focusShortcuts)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// for single press keys (a-z, A-Z) &, hotkeys' combinations such as 'cmd+k', 'ctrl+shft+a', etc\n\t\t(0, _hotkeysJs2.default)((0, _utils.parseFocusShortcuts)(focusShortcuts).join(','),\n\t\t/* eslint-disable no-shadow */\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tfunction (event, handler) {\n\t\t\t// Prevent the default refresh event under WINDOWS system\n\t\t\tevent.preventDefault();\n\t\t\t_this4.focusSearchBox(event);\n\t\t});\n\n\t\t// if one of modifier keys are used, they are handled below\n\t\t(0, _hotkeysJs2.default)('*', function (event) {\n\t\t\tvar modifierKeys = (0, _utils.extractModifierKeysFromFocusShortcuts)(focusShortcuts);\n\n\t\t\tif (modifierKeys.length === 0) return;\n\n\t\t\tfor (var index = 0; index < modifierKeys.length; index += 1) {\n\t\t\t\tvar element = modifierKeys[index];\n\t\t\t\tif (_hotkeysJs2.default[element]) {\n\t\t\t\t\t_this4.focusSearchBox(event);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n};\n\nDataSearch.propTypes = {\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\tfetchPopularSuggestions: _types2.default.funcRequired,\n\tfetchRecentSearches: _types2.default.funcRequired,\n\trecentSearches: _types2.default.suggestions,\n\toptions: _types2.default.options,\n\tselectedValue: _types2.default.selectedValue,\n\tsuggestions: _types2.default.suggestions,\n\tdefaultPopularSuggestions: _types2.default.suggestions,\n\trawData: _types2.default.rawData,\n\taggregationData: _types2.default.aggregationData,\n\tsetCustomQuery: _types2.default.funcRequired,\n\tsetDefaultQuery: _types2.default.funcRequired,\n\tsetCustomHighlightOptions: _types2.default.funcRequired,\n\tsetSuggestionsSearchValue: _types2.default.funcRequired,\n\ttriggerAnalytics: _types2.default.funcRequired,\n\terror: _types2.default.title,\n\tisLoading: _types2.default.bool,\n\tlastUsedQuery: _types2.default.string,\n\ttime: _types2.default.number,\n\tenableAppbase: _types2.default.bool,\n\t// component props\n\tautoFocus: _types2.default.bool,\n\tautosuggest: _types2.default.bool,\n\tenableSynonyms: _types2.default.bool,\n\tdistinctField: _types2.default.string,\n\tdistinctFieldConfig: _types2.default.componentObject,\n\tindex: _types2.default.string,\n\t// TODO: Remove in v4\n\tenableQuerySuggestions: _types2.default.bool,\n\tenablePopularSuggestions: _types2.default.bool,\n\tenableRecentSearches: _types2.default.bool,\n\tqueryString: _types2.default.bool,\n\tbeforeValueChange: _types2.default.func,\n\tclassName: _types2.default.string,\n\tclearIcon: _types2.default.children,\n\tcomponentId: _types2.default.stringRequired,\n\tcustomHighlight: _types2.default.func,\n\tcustomQuery: _types2.default.func,\n\tdefaultQuery: _types2.default.func,\n\tdataField: _types2.default.dataFieldValidator,\n\taggregationField: _types2.default.string,\n\taggregationSize: _types2.default.number,\n\tsize: _types2.default.number,\n\tdebounce: _types2.default.number,\n\tdefaultValue: _types2.default.string,\n\tvalue: _types2.default.string,\n\tdefaultSuggestions: _types2.default.suggestions,\n\tpromotedResults: _types2.default.hits,\n\tcustomData: _types2.default.title,\n\tdownShiftProps: _types2.default.props,\n\tchildren: _types2.default.func,\n\texcludeFields: _types2.default.excludeFields,\n\tfieldWeights: _types2.default.fieldWeights,\n\tfilterLabel: _types2.default.string,\n\tfuzziness: _types2.default.fuzziness,\n\thighlight: _types2.default.bool,\n\thighlightField: _types2.default.stringOrArray,\n\ticon: _types2.default.children,\n\ticonPosition: _types2.default.iconPosition,\n\tinnerClass: _types2.default.style,\n\tincludeFields: _types2.default.includeFields,\n\tloader: _types2.default.title,\n\tnestedField: _types2.default.string,\n\tonError: _types2.default.func,\n\tonBlur: _types2.default.func,\n\tonFocus: _types2.default.func,\n\tonKeyDown: _types2.default.func,\n\tonKeyPress: _types2.default.func,\n\tonKeyUp: _types2.default.func,\n\tonQueryChange: _types2.default.func,\n\tonSuggestions: _types2.default.func,\n\tonValueChange: _types2.default.func,\n\tonChange: _types2.default.func,\n\tonValueSelected: _types2.default.func,\n\tplaceholder: _types2.default.string,\n\tqueryFormat: _types2.default.queryFormatSearch,\n\tpopularSuggestions: _types2.default.hits,\n\treact: _types2.default.react,\n\trender: _types2.default.func,\n\t// TODO: Remove in v4\n\trenderQuerySuggestions: _types2.default.func,\n\trenderPopularSuggestions: _types2.default.func,\n\trenderError: _types2.default.title,\n\tparseSuggestion: _types2.default.func,\n\trenderNoSuggestion: _types2.default.title,\n\tshowClear: _types2.default.bool,\n\tshowDistinctSuggestions: _types2.default.bool,\n\tshowFilter: _types2.default.bool,\n\tshowIcon: _types2.default.bool,\n\tshowVoiceSearch: _types2.default.bool,\n\tstyle: _types2.default.style,\n\ttitle: _types2.default.title,\n\ttheme: _types2.default.style,\n\tthemePreset: _types2.default.themePreset,\n\ttype: _types2.default.string,\n\tURLParams: _types2.default.bool,\n\tstrictSelection: _types2.default.bool,\n\tsearchOperators: _types2.default.bool,\n\tenablePredictiveSuggestions: _types2.default.bool,\n\trecentSearchesIcon: _types2.default.componentObject,\n\tpopularSearchesIcon: _types2.default.componentObject,\n\t// Mic props\n\tgetMicInstance: _types2.default.func,\n\trenderMic: _types2.default.func,\n\t//\n\tfocusShortcuts: _types2.default.focusShortcuts,\n\taddonBefore: _types2.default.children,\n\taddonAfter: _types2.default.children,\n\texpandSuggestionsContainer: _types2.default.bool\n};\n\nDataSearch.defaultProps = {\n\tautosuggest: true,\n\tclassName: null,\n\tdebounce: 0,\n\tdownShiftProps: {},\n\tenableSynonyms: true,\n\tenablePopularSuggestions: false,\n\texcludeFields: [],\n\ticonPosition: 'left',\n\tincludeFields: ['*'],\n\tplaceholder: 'Search',\n\tqueryFormat: 'or',\n\tshowFilter: true,\n\tshowIcon: true,\n\tshowVoiceSearch: false,\n\tstyle: {},\n\tURLParams: false,\n\tshowClear: false,\n\tshowDistinctSuggestions: true,\n\tstrictSelection: false,\n\tsearchOperators: false,\n\tsize: 10,\n\tenablePredictiveSuggestions: false,\n\trecentSearches: [],\n\tdefaultPopularSuggestions: [],\n\ttime: 0,\n\tfocusShortcuts: ['/'],\n\taddonBefore: undefined,\n\taddonAfter: undefined,\n\texpandSuggestionsContainer: true\n};\n\n// Add componentType for SSR\nDataSearch.componentType = _constants.componentTypes.dataSearch;\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\tselectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n\t\tsuggestions: state.hits[props.componentId] && state.hits[props.componentId].hits,\n\t\trawData: state.rawData[props.componentId],\n\t\taggregationData: state.compositeAggregations[props.componentId],\n\t\tthemePreset: state.config.themePreset,\n\t\tisLoading: !!state.isLoading[props.componentId + '_active'],\n\t\terror: state.error[props.componentId],\n\t\tenableAppbase: state.config.enableAppbase,\n\t\tpromotedResults: state.promotedResults[props.componentId],\n\t\tcustomData: state.customData[props.componentId],\n\t\ttime: state.hits[props.componentId] && state.hits[props.componentId].time,\n\t\ttotal: state.hits[props.componentId] && state.hits[props.componentId].total,\n\t\thidden: state.hits[props.componentId] && state.hits[props.componentId].hidden,\n\t\tpopularSuggestions: state.querySuggestions[props.componentId],\n\t\tdefaultPopularSuggestions: state.defaultPopularSuggestions[props.componentId],\n\t\trecentSearches: state.recentSearches.data,\n\t\tlastUsedQuery: state.queryToHits[props.componentId]\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetCustomHighlightOptions: function setCustomHighlightOptions(component, options) {\n\t\t\treturn dispatch((0, _actions.setCustomHighlightOptions)(component, options));\n\t\t},\n\t\tsetCustomQuery: function setCustomQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setCustomQuery)(component, query));\n\t\t},\n\t\tsetDefaultQuery: function setDefaultQuery(component, query) {\n\t\t\treturn dispatch((0, _actions.setDefaultQuery)(component, query));\n\t\t},\n\t\tsetSuggestionsSearchValue: function setSuggestionsSearchValue(value) {\n\t\t\treturn dispatch((0, _actions.setSuggestionsSearchValue)(value));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t},\n\t\ttriggerAnalytics: function triggerAnalytics(searchPosition, documentId) {\n\t\t\treturn dispatch((0, _actions.recordSuggestionClick)(searchPosition, documentId));\n\t\t},\n\t\tfetchRecentSearches: function fetchRecentSearches(queryOptions) {\n\t\t\treturn dispatch((0, _actions.getRecentSearches)(queryOptions));\n\t\t},\n\t\tfetchPopularSuggestions: function fetchPopularSuggestions(component) {\n\t\t\treturn dispatch((0, _actions.loadPopularSuggestions)(component));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)((0, _emotionTheming.withTheme)(function (props) {\n\treturn (0, _core.jsx)(\n\t\t_ComponentWrapper2.default,\n\t\t_extends({}, props, { internalComponent: true, componentType: _constants.componentTypes.dataSearch }),\n\t\tfunction () {\n\t\t\treturn (0, _core.jsx)(DataSearch, _extends({ ref: props.myForwardedRef }, props));\n\t\t}\n\t);\n}));\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn (0, _core.jsx)(ConnectedComponent, _extends({}, props, { myForwardedRef: ref }));\n});\n(0, _hoistNonReactStatics2.default)(ForwardRefComponent, DataSearch);\n\nForwardRefComponent.displayName = 'DataSearch';\nexports.default = ForwardRefComponent;"]},"metadata":{},"sourceType":"script"}