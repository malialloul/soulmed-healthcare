{"ast":null,"code":"import JSON5 from './formats/json5.js';\nimport jsYaml from './formats/yaml.js';\nimport * as fsMod from './fs.cjs';\nimport extname from './extname.js';\nvar isDeno = typeof Deno !== 'undefined';\nvar YAML = typeof jsYaml !== 'undefined' && jsYaml.load ? jsYaml : undefined;\nvar fs = fsMod ? fsMod.default || fsMod : undefined;\n\nfunction dirname(path) {\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47;\n  var end = -1;\n  var matchedSlash = true;\n\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n\n    if (code === 47) {\n      if (!matchedSlash) {\n        end = i;\n        break;\n      }\n    } else {\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) return '//';\n  return path.slice(0, end);\n}\n\nvar writeFileInNodeSync = function writeFileInNodeSync(filename, payload) {\n  try {\n    fs.mkdirSync(dirname(filename), {\n      recursive: true\n    });\n  } catch (err) {}\n\n  return fs.writeFileSync(filename, payload, 'utf8');\n};\n\nvar writeFileInNode = function writeFileInNode(filename, payload) {\n  return new Promise(function (resolve, reject) {\n    fs.mkdir(dirname(filename), {\n      recursive: true\n    }, function () {\n      fs.writeFile(filename, payload, 'utf8', function (err, data) {\n        return err ? reject(err) : resolve(data);\n      });\n    });\n  });\n};\n\nvar removeFileInNodeSync = function removeFileInNodeSync(filename) {\n  return fs.unlinkSync(filename);\n};\n\nvar removeFileInNode = function removeFileInNode(filename) {\n  return new Promise(function (resolve, reject) {\n    return fs.unlink(filename, function (err) {\n      return err ? reject(err) : resolve();\n    });\n  });\n};\n\nvar writeFileInDenoSync = function writeFileInDenoSync(filename, payload) {\n  var encoder = new TextEncoder();\n  var data = encoder.encode(payload);\n\n  try {\n    Deno.mkdirSync(dirname(filename), {\n      recursive: true\n    });\n  } catch (err) {}\n\n  Deno.writeFileSync(filename, data);\n};\n\nvar writeFileInDeno = function writeFileInDeno(filename, payload) {\n  var encoder = new TextEncoder();\n  var data = encoder.encode(payload);\n  return new Promise(function (resolve, reject) {\n    Deno.mkdir(dirname(filename), {\n      recursive: true\n    }).then(function () {\n      Deno.writeFile(filename, data).then(resolve, reject);\n    }).catch(function () {\n      Deno.writeFile(filename, data).then(resolve, reject);\n    });\n  });\n};\n\nvar removeFileInDenoSync = function removeFileInDenoSync(filename) {\n  Deno.removeSync(filename);\n};\n\nvar removeFileInDeno = function removeFileInDeno(filename) {\n  return Deno.remove(filename);\n};\n\nvar stringifyData = function stringifyData(extension, data, options) {\n  var result = '';\n\n  switch (extension) {\n    case '.js':\n    case '.ts':\n      if (typeof module === 'undefined') {\n        result = \"export default \".concat(options.stringify(data, null, options.ident));\n      } else {\n        result = \"module.exports = \".concat(options.stringify(data, null, options.ident));\n      }\n\n      break;\n\n    case '.json5':\n      result = JSON5.stringify(data, null, options.ident);\n      break;\n\n    case '.yml':\n    case '.yaml':\n      result = YAML.dump(data, {\n        ident: options.indent\n      });\n      break;\n\n    default:\n      result = options.stringify(data, null, options.ident);\n  }\n\n  return result;\n};\n\nexport function writeFileSync(filename, payload, options) {\n  var ext = extname(filename);\n  var data;\n\n  try {\n    data = stringifyData(ext, payload, options);\n  } catch (err) {\n    err.message = 'error stringifying ' + filename + ': ' + err.message;\n    throw err;\n  }\n\n  if (isDeno) {\n    return writeFileInDenoSync(filename, data);\n  } else {\n    return writeFileInNodeSync(filename, data);\n  }\n}\nexport function writeFile(filename, payload) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    stringify: JSON.stringify,\n    ident: 2\n  };\n  var ext = extname(filename);\n  var data;\n\n  try {\n    data = stringifyData(ext, payload, options);\n  } catch (err) {\n    err.message = 'error stringifying ' + filename + ': ' + err.message;\n    throw err;\n  }\n\n  var fn = isDeno ? writeFileInDeno : writeFileInNode;\n  return fn(filename, data);\n}\nexport function removeFileSync(filename) {\n  if (isDeno) {\n    return removeFileInDenoSync(filename);\n  } else {\n    return removeFileInNodeSync(filename);\n  }\n}\nexport function removeFile(filename) {\n  var fn = isDeno ? removeFileInDeno : removeFileInNode;\n  return fn(filename);\n}","map":{"version":3,"sources":["/home/ma/soulmed-healthcare/node_modules/i18next-fs-backend/esm/writeFile.js"],"names":["JSON5","jsYaml","fsMod","extname","isDeno","Deno","YAML","load","undefined","fs","default","dirname","path","length","code","charCodeAt","hasRoot","end","matchedSlash","i","slice","writeFileInNodeSync","filename","payload","mkdirSync","recursive","err","writeFileSync","writeFileInNode","Promise","resolve","reject","mkdir","writeFile","data","removeFileInNodeSync","unlinkSync","removeFileInNode","unlink","writeFileInDenoSync","encoder","TextEncoder","encode","writeFileInDeno","then","catch","removeFileInDenoSync","removeSync","removeFileInDeno","remove","stringifyData","extension","options","result","module","concat","stringify","ident","dump","indent","ext","message","arguments","JSON","fn","removeFileSync","removeFile"],"mappings":"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","sourcesContent":["import JSON5 from './formats/json5.js';\nimport jsYaml from './formats/yaml.js';\nimport * as fsMod from './fs.cjs';\nimport extname from './extname.js';\nvar isDeno = typeof Deno !== 'undefined';\nvar YAML = typeof jsYaml !== 'undefined' && jsYaml.load ? jsYaml : undefined;\nvar fs = fsMod ? fsMod.default || fsMod : undefined;\n\nfunction dirname(path) {\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47;\n  var end = -1;\n  var matchedSlash = true;\n\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n\n    if (code === 47) {\n      if (!matchedSlash) {\n        end = i;\n        break;\n      }\n    } else {\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) return '//';\n  return path.slice(0, end);\n}\n\nvar writeFileInNodeSync = function writeFileInNodeSync(filename, payload) {\n  try {\n    fs.mkdirSync(dirname(filename), {\n      recursive: true\n    });\n  } catch (err) {}\n\n  return fs.writeFileSync(filename, payload, 'utf8');\n};\n\nvar writeFileInNode = function writeFileInNode(filename, payload) {\n  return new Promise(function (resolve, reject) {\n    fs.mkdir(dirname(filename), {\n      recursive: true\n    }, function () {\n      fs.writeFile(filename, payload, 'utf8', function (err, data) {\n        return err ? reject(err) : resolve(data);\n      });\n    });\n  });\n};\n\nvar removeFileInNodeSync = function removeFileInNodeSync(filename) {\n  return fs.unlinkSync(filename);\n};\n\nvar removeFileInNode = function removeFileInNode(filename) {\n  return new Promise(function (resolve, reject) {\n    return fs.unlink(filename, function (err) {\n      return err ? reject(err) : resolve();\n    });\n  });\n};\n\nvar writeFileInDenoSync = function writeFileInDenoSync(filename, payload) {\n  var encoder = new TextEncoder();\n  var data = encoder.encode(payload);\n\n  try {\n    Deno.mkdirSync(dirname(filename), {\n      recursive: true\n    });\n  } catch (err) {}\n\n  Deno.writeFileSync(filename, data);\n};\n\nvar writeFileInDeno = function writeFileInDeno(filename, payload) {\n  var encoder = new TextEncoder();\n  var data = encoder.encode(payload);\n  return new Promise(function (resolve, reject) {\n    Deno.mkdir(dirname(filename), {\n      recursive: true\n    }).then(function () {\n      Deno.writeFile(filename, data).then(resolve, reject);\n    }).catch(function () {\n      Deno.writeFile(filename, data).then(resolve, reject);\n    });\n  });\n};\n\nvar removeFileInDenoSync = function removeFileInDenoSync(filename) {\n  Deno.removeSync(filename);\n};\n\nvar removeFileInDeno = function removeFileInDeno(filename) {\n  return Deno.remove(filename);\n};\n\nvar stringifyData = function stringifyData(extension, data, options) {\n  var result = '';\n\n  switch (extension) {\n    case '.js':\n    case '.ts':\n      if (typeof module === 'undefined') {\n        result = \"export default \".concat(options.stringify(data, null, options.ident));\n      } else {\n        result = \"module.exports = \".concat(options.stringify(data, null, options.ident));\n      }\n\n      break;\n\n    case '.json5':\n      result = JSON5.stringify(data, null, options.ident);\n      break;\n\n    case '.yml':\n    case '.yaml':\n      result = YAML.dump(data, {\n        ident: options.indent\n      });\n      break;\n\n    default:\n      result = options.stringify(data, null, options.ident);\n  }\n\n  return result;\n};\n\nexport function writeFileSync(filename, payload, options) {\n  var ext = extname(filename);\n  var data;\n\n  try {\n    data = stringifyData(ext, payload, options);\n  } catch (err) {\n    err.message = 'error stringifying ' + filename + ': ' + err.message;\n    throw err;\n  }\n\n  if (isDeno) {\n    return writeFileInDenoSync(filename, data);\n  } else {\n    return writeFileInNodeSync(filename, data);\n  }\n}\nexport function writeFile(filename, payload) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    stringify: JSON.stringify,\n    ident: 2\n  };\n  var ext = extname(filename);\n  var data;\n\n  try {\n    data = stringifyData(ext, payload, options);\n  } catch (err) {\n    err.message = 'error stringifying ' + filename + ': ' + err.message;\n    throw err;\n  }\n\n  var fn = isDeno ? writeFileInDeno : writeFileInNode;\n  return fn(filename, data);\n}\nexport function removeFileSync(filename) {\n  if (isDeno) {\n    return removeFileInDenoSync(filename);\n  } else {\n    return removeFileInNodeSync(filename);\n  }\n}\nexport function removeFile(filename) {\n  var fn = isDeno ? removeFileInDeno : removeFileInNode;\n  return fn(filename);\n}"]},"metadata":{},"sourceType":"module"}